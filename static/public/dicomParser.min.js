(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("dicom-parser",[],r);else if(typeof exports==="object")exports["dicom-parser"]=r();else t["dicomParser"]=r()})(this,function(){return function(r){var n={};function i(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=r;i.c=n;i.d=function(e,t,r){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=43)}([function(e,ee,te){"use strict";(function(e){var n=te(49);var a=te(50);var f=te(28);ee.Buffer=h;ee.SlowBuffer=m;ee.INSPECT_MAX_BYTES=50;h.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:t();ee.kMaxLength=r();function t(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function r(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(r()<t){throw new RangeError("Invalid typed array length")}if(h.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=h.prototype}else{if(e===null){e=new h(t)}e.length=t}return e}function h(e,t,r){if(!h.TYPED_ARRAY_SUPPORT&&!(this instanceof h)){return new h(e,t,r)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return l(this,e)}return i(this,e,t,r)}h.poolSize=8192;h._augment=function(e){e.__proto__=h.prototype;return e};function i(e,t,r,n){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return p(e,t,r,n)}if(typeof t==="string"){return d(e,t,r)}return v(e,t)}h.from=function(e,t,r){return i(null,e,t,r)};if(h.TYPED_ARRAY_SUPPORT){h.prototype.__proto__=Uint8Array.prototype;h.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&h[Symbol.species]===h){Object.defineProperty(h,Symbol.species,{value:null,configurable:true})}}function o(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function u(e,t,r,n){o(t);if(t<=0){return s(e,t)}if(r!==undefined){return typeof n==="string"?s(e,t).fill(r,n):s(e,t).fill(r)}return s(e,t)}h.alloc=function(e,t,r){return u(null,e,t,r)};function l(e,t){o(t);e=s(e,t<0?0:g(t)|0);if(!h.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;++r){e[r]=0}}return e}h.allocUnsafe=function(e){return l(null,e)};h.allocUnsafeSlow=function(e){return l(null,e)};function d(e,t,r){if(typeof r!=="string"||r===""){r="utf8"}if(!h.isEncoding(r)){throw new TypeError('"encoding" must be a valid string encoding')}var n=_(t,r)|0;e=s(e,n);var i=e.write(t,r);if(i!==n){e=e.slice(0,i)}return e}function c(e,t){var r=t.length<0?0:g(t.length)|0;e=s(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function p(e,t,r,n){t.byteLength;if(r<0||t.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}if(r===undefined&&n===undefined){t=new Uint8Array(t)}else if(n===undefined){t=new Uint8Array(t,r)}else{t=new Uint8Array(t,r,n)}if(h.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=h.prototype}else{e=c(e,t)}return e}function v(e,t){if(h.isBuffer(t)){var r=g(t.length)|0;e=s(e,r);if(e.length===0){return e}t.copy(e,0,0,r);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||Q(t.length)){return s(e,0)}return c(e,t)}if(t.type==="Buffer"&&f(t.data)){return c(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=r()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+r().toString(16)+" bytes")}return e|0}function m(e){if(+e!=e){e=0}return h.alloc(+e)}h.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};h.compare=function e(t,r){if(!h.isBuffer(t)||!h.isBuffer(r)){throw new TypeError("Arguments must be Buffers")}if(t===r)return 0;var n=t.length;var i=r.length;for(var a=0,s=Math.min(n,i);a<s;++a){if(t[a]!==r[a]){n=t[a];i=r[a];break}}if(n<i)return-1;if(i<n)return 1;return 0};h.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};h.concat=function e(t,r){if(!f(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return h.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var i=h.allocUnsafe(r);var a=0;for(n=0;n<t.length;++n){var s=t[n];if(!h.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(i,a);a+=s.length}return i};function _(e,t){if(h.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case undefined:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase();n=true}}}h.byteLength=_;function b(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}h.prototype._isBuffer=true;function y(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}h.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){y(this,r,r+1)}return this};h.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){y(this,r,r+3);y(this,r+1,r+2)}return this};h.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){y(this,r,r+7);y(this,r+1,r+6);y(this,r+2,r+5);y(this,r+3,r+4)}return this};h.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return R(this,0,t);return b.apply(this,arguments)};h.prototype.equals=function e(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return h.compare(this,t)===0};h.prototype.inspect=function e(){var t="";var r=ee.INSPECT_MAX_BYTES;if(this.length>0){t=this.toString("hex",0,r).match(/.{2}/g).join(" ");if(this.length>r)t+=" ... "}return"<Buffer "+t+">"};h.prototype.compare=function e(t,r,n,i,a){if(!h.isBuffer(t)){throw new TypeError("Argument must be a Buffer")}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(i===undefined){i=0}if(a===undefined){a=this.length}if(r<0||n>t.length||i<0||a>this.length){throw new RangeError("out of range index")}if(i>=a&&r>=n){return 0}if(i>=a){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;i>>>=0;a>>>=0;if(this===t)return 0;var s=a-i;var f=n-r;var o=Math.min(s,f);var u=this.slice(i,a);var l=t.slice(r,n);for(var d=0;d<o;++d){if(u[d]!==l[d]){s=u[d];f=l[d];break}}if(s<f)return-1;if(f<s)return 1;return 0};function w(e,t,r,n,i){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(isNaN(r)){r=i?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(i)return-1;else r=e.length-1}else if(r<0){if(i)r=0;else return-1}if(typeof t==="string"){t=h.from(t,n)}if(h.isBuffer(t)){if(t.length===0){return-1}return E(e,t,r,n,i)}else if(typeof t==="number"){t=t&255;if(h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return E(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var a=1;var s=e.length;var f=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}a=2;s/=2;f/=2;r/=2}}function o(e,t){if(a===1){return e[t]}else{return e.readUInt16BE(t*a)}}var u;if(i){var l=-1;for(u=r;u<s;u++){if(o(e,u)===o(t,l===-1?0:u-l)){if(l===-1)l=u;if(u-l+1===f)return l*a}else{if(l!==-1)u-=u-l;l=-1}}}else{if(r+f>s)r=s-f;for(u=r;u>=0;u--){var d=true;for(var h=0;h<f;h++){if(o(e,u+h)!==o(t,h)){d=false;break}}if(d)return u}}return-1}h.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};h.prototype.indexOf=function e(t,r,n){return w(this,t,r,n,true)};h.prototype.lastIndexOf=function e(t,r,n){return w(this,t,r,n,false)};function k(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");if(n>a/2){n=a/2}for(var s=0;s<n;++s){var f=parseInt(t.substr(s*2,2),16);if(isNaN(f))return s;e[r+s]=f}return s}function x(e,t,r,n){return $(V(t,e.length-r),e,r,n)}function S(e,t,r,n){return $(J(t),e,r,n)}function A(e,t,r,n){return S(e,t,r,n)}function P(e,t,r,n){return $(X(t),e,r,n)}function O(e,t,r,n){return $(K(t,e.length-r),e,r,n)}h.prototype.write=function e(t,r,n,i){if(r===undefined){i="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){i=r;n=this.length;r=0}else if(isFinite(r)){r=r|0;if(isFinite(n)){n=n|0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var a=this.length-r;if(n===undefined||n>a)n=a;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var s=false;for(;;){switch(i){case"hex":return k(this,t,r,n);case"utf8":case"utf-8":return x(this,t,r,n);case"ascii":return S(this,t,r,n);case"latin1":case"binary":return A(this,t,r,n);case"base64":return P(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();s=true}}};h.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function R(e,t,r){r=Math.min(e.length,r);var n=[];var i=t;while(i<r){var a=e[i];var s=null;var f=a>239?4:a>223?3:a>191?2:1;if(i+f<=r){var o,u,l,d;switch(f){case 1:if(a<128){s=a}break;case 2:o=e[i+1];if((o&192)===128){d=(a&31)<<6|o&63;if(d>127){s=d}}break;case 3:o=e[i+1];u=e[i+2];if((o&192)===128&&(u&192)===128){d=(a&15)<<12|(o&63)<<6|u&63;if(d>2047&&(d<55296||d>57343)){s=d}}break;case 4:o=e[i+1];u=e[i+2];l=e[i+3];if((o&192)===128&&(u&192)===128&&(l&192)===128){d=(a&15)<<18|(o&63)<<12|(u&63)<<6|l&63;if(d>65535&&d<1114112){s=d}}}}if(s===null){s=65533;f=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|s&1023}n.push(s);i+=f}return D(n)}var I=4096;function D(e){var t=e.length;if(t<=I){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=I))}return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i]&127)}return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function M(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var a=t;a<r;++a){i+=G(e[a])}return i}function U(e,t,r){var n=e.slice(t,r);var i="";for(var a=0;a<n.length;a+=2){i+=String.fromCharCode(n[a]+n[a+1]*256)}return i}h.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var i;if(h.TYPED_ARRAY_SUPPORT){i=this.subarray(t,r);i.__proto__=h.prototype}else{var a=r-t;i=new h(a,undefined);for(var s=0;s<a;++s){i[s]=this[s+t]}}return i};function F(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)F(t,r,this.length);var i=this[t];var a=1;var s=0;while(++s<r&&(a*=256)){i+=this[t+s]*a}return i};h.prototype.readUIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n){F(t,r,this.length)}var i=this[t+--r];var a=1;while(r>0&&(a*=256)){i+=this[t+--r]*a}return i};h.prototype.readUInt8=function e(t,r){if(!r)F(t,1,this.length);return this[t]};h.prototype.readUInt16LE=function e(t,r){if(!r)F(t,2,this.length);return this[t]|this[t+1]<<8};h.prototype.readUInt16BE=function e(t,r){if(!r)F(t,2,this.length);return this[t]<<8|this[t+1]};h.prototype.readUInt32LE=function e(t,r){if(!r)F(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};h.prototype.readUInt32BE=function e(t,r){if(!r)F(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};h.prototype.readIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)F(t,r,this.length);var i=this[t];var a=1;var s=0;while(++s<r&&(a*=256)){i+=this[t+s]*a}a*=128;if(i>=a)i-=Math.pow(2,8*r);return i};h.prototype.readIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n)F(t,r,this.length);var i=r;var a=1;var s=this[t+--i];while(i>0&&(a*=256)){s+=this[t+--i]*a}a*=128;if(s>=a)s-=Math.pow(2,8*r);return s};h.prototype.readInt8=function e(t,r){if(!r)F(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};h.prototype.readInt16LE=function e(t,r){if(!r)F(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};h.prototype.readInt16BE=function e(t,r){if(!r)F(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};h.prototype.readInt32LE=function e(t,r){if(!r)F(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};h.prototype.readInt32BE=function e(t,r){if(!r)F(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};h.prototype.readFloatLE=function e(t,r){if(!r)F(t,4,this.length);return a.read(this,t,true,23,4)};h.prototype.readFloatBE=function e(t,r){if(!r)F(t,4,this.length);return a.read(this,t,false,23,4)};h.prototype.readDoubleLE=function e(t,r){if(!r)F(t,8,this.length);return a.read(this,t,true,52,8)};h.prototype.readDoubleBE=function e(t,r){if(!r)F(t,8,this.length);return a.read(this,t,false,52,8)};function j(e,t,r,n,i,a){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}h.prototype.writeUIntLE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var a=Math.pow(2,8*n)-1;j(this,t,r,n,a,0)}var s=1;var f=0;this[r]=t&255;while(++f<n&&(s*=256)){this[r+f]=t/s&255}return r+n};h.prototype.writeUIntBE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var a=Math.pow(2,8*n)-1;j(this,t,r,n,a,0)}var s=n-1;var f=1;this[r+s]=t&255;while(--s>=0&&(f*=256)){this[r+s]=t/f&255}return r+n};h.prototype.writeUInt8=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,1,255,0);if(!h.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[r]=t&255;return r+1};function z(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,a=Math.min(e.length-r,2);i<a;++i){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}h.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{z(this,t,r,true)}return r+2};h.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,2,65535,0);if(h.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{z(this,t,r,false)}return r+2};function N(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,a=Math.min(e.length-r,4);i<a;++i){e[r+i]=t>>>(n?i:3-i)*8&255}}h.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255}else{N(this,t,r,true)}return r+4};h.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,4,4294967295,0);if(h.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{N(this,t,r,false)}return r+4};h.prototype.writeIntLE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var a=Math.pow(2,8*n-1);j(this,t,r,n,a-1,-a)}var s=0;var f=1;var o=0;this[r]=t&255;while(++s<n&&(f*=256)){if(t<0&&o===0&&this[r+s-1]!==0){o=1}this[r+s]=(t/f>>0)-o&255}return r+n};h.prototype.writeIntBE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var a=Math.pow(2,8*n-1);j(this,t,r,n,a-1,-a)}var s=n-1;var f=1;var o=0;this[r+s]=t&255;while(--s>=0&&(f*=256)){if(t<0&&o===0&&this[r+s+1]!==0){o=1}this[r+s]=(t/f>>0)-o&255}return r+n};h.prototype.writeInt8=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,1,127,-128);if(!h.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[r]=t&255;return r+1};h.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{z(this,t,r,true)}return r+2};h.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,2,32767,-32768);if(h.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{z(this,t,r,false)}return r+2};h.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,4,2147483647,-2147483648);if(h.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24}else{N(this,t,r,true)}return r+4};h.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)j(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(h.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{N(this,t,r,false)}return r+4};function C(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Z(e,t,r,n,i){if(!i){C(e,t,r,4,34028234663852886e22,-34028234663852886e22)}a.write(e,t,r,n,23,4);return r+4}h.prototype.writeFloatLE=function e(t,r,n){return Z(this,t,r,true,n)};h.prototype.writeFloatBE=function e(t,r,n){return Z(this,t,r,false,n)};function q(e,t,r,n,i){if(!i){C(e,t,r,8,17976931348623157e292,-17976931348623157e292)}a.write(e,t,r,n,52,8);return r+8}h.prototype.writeDoubleLE=function e(t,r,n){return q(this,t,r,true,n)};h.prototype.writeDoubleBE=function e(t,r,n){return q(this,t,r,false,n)};h.prototype.copy=function e(t,r,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(t.length-r<i-n){i=t.length-r+n}var a=i-n;var s;if(this===t&&n<r&&r<i){for(s=a-1;s>=0;--s){t[s+r]=this[s+n]}}else if(a<1e3||!h.TYPED_ARRAY_SUPPORT){for(s=0;s<a;++s){t[s+r]=this[s+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,n+a),r)}return a};h.prototype.fill=function e(t,r,n,i){if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(t.length===1){var a=t.charCodeAt(0);if(a<256){t=a}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!h.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var s;if(typeof t==="number"){for(s=r;s<n;++s){this[s]=t}}else{var f=h.isBuffer(t)?t:V(new h(t,i).toString());var o=f.length;for(s=0;s<n-r;++s){this[s+r]=f[s%o]}}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function W(e){e=H(e).replace(Y,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function H(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function G(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function V(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var a=[];for(var s=0;s<n;++s){r=e.charCodeAt(s);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)a.push(239,191,189);continue}else if(s+1===n){if((t-=3)>-1)a.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)a.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((t-=3)>-1)a.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return a}function J(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function K(e,t){var r,n,i;var a=[];for(var s=0;s<e.length;++s){if((t-=2)<0)break;r=e.charCodeAt(s);n=r>>8;i=r%256;a.push(i);a.push(n)}return a}function X(e){return n.toByteArray(W(e))}function $(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function Q(e){return e!==e}}).call(ee,te(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e){if(e===undefined){throw"dicomParser.readTag: missing required parameter 'byteStream'"}var t=e.readUint16()*256*256;var r=e.readUint16();var n="x"+("00000000"+(t+r).toString(16)).substr(-8);return n}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t){var r=e.exports={};var n;var i;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=a}}catch(e){n=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=s}}catch(e){i=s}})();function f(t){if(n===setTimeout){return setTimeout(t,0)}if((n===a||!n)&&setTimeout){n=setTimeout;return setTimeout(t,0)}try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function o(t){if(i===clearTimeout){return clearTimeout(t)}if((i===s||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(t)}try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}var u=[];var l=false;var d;var h=-1;function c(){if(!l||!d){return}l=false;if(d.length){u=d.concat(u)}else{h=-1}if(u.length){p()}}function p(){if(l){return}var e=f(c);l=true;var t=u.length;while(t){d=u;u=[];while(++h<t){if(d){d[h].run()}}h=-1;t=u.length}d=null;l=false;o(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}u.push(new v(e,t));if(u.length===1&&!l){f(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function g(){}r.on=g;r.addListener=g;r.once=g;r.off=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.prependListener=g;r.prependOnceListener=g;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(14);var i=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};e.exports=d;var a=r(6);a.inherits=r(7);var s=r(31);var f=r(35);a.inherits(d,s);var o=i(f.prototype);for(var u=0;u<o.length;u++){var l=o[u];if(!d.prototype[l])d.prototype[l]=f.prototype[l]}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e);f.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}function h(){if(this.allowHalfOpen||this._writableState.ended)return;n(c,this)}function c(e){e.end()}Object.defineProperty(d.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});d.prototype._destroy=function(e,t){this.push(null);this.end();n(t,e)};function p(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var s=r(10);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){return e.parser!==undefined?e.parser:t}var n=function(){function n(e,t,r){a(this,n);this.byteArrayParser=e;this.byteArray=t;this.elements=r}i(n,[{key:"uint16",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readUint16(this.byteArray,n.dataOffset+r*2)}return undefined}},{key:"int16",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readInt16(this.byteArray,n.dataOffset+r*2)}return undefined}},{key:"uint32",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readUint32(this.byteArray,n.dataOffset+r*4)}return undefined}},{key:"int32",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readInt32(this.byteArray,n.dataOffset+r*4)}return undefined}},{key:"float",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readFloat(this.byteArray,n.dataOffset+r*4)}return undefined}},{key:"double",value:function e(t,r){var n=this.elements[t];r=r!==undefined?r:0;if(n&&n.length!==0){return f(n,this.byteArrayParser).readDouble(this.byteArray,n.dataOffset+r*8)}return undefined}},{key:"numStringValues",value:function e(t){var r=this.elements[t];if(r&&r.length>0){var n=(0,s.readFixedString)(this.byteArray,r.dataOffset,r.length);var i=n.match(/\\/g);if(i===null){return 1}return i.length+1}return undefined}},{key:"string",value:function e(t,r){var n=this.elements[t];if(n&&n.length>0){var i=(0,s.readFixedString)(this.byteArray,n.dataOffset,n.length);if(r>=0){var a=i.split("\\");return a[r].trim()}return i.trim()}return undefined}},{key:"text",value:function e(t,r){var n=this.elements[t];if(n&&n.length>0){var i=(0,s.readFixedString)(this.byteArray,n.dataOffset,n.length);if(r>=0){var a=i.split("\\");return a[r].replace(/ +$/,"")}return i.replace(/ +$/,"")}return undefined}},{key:"floatString",value:function e(t,r){var n=this.elements[t];if(n&&n.length>0){r=r!==undefined?r:0;var i=this.string(t,r);if(i!==undefined){return parseFloat(i)}}return undefined}},{key:"intString",value:function e(t,r){var n=this.elements[t];if(n&&n.length>0){r=r!==undefined?r:0;var i=this.string(t,r);if(i!==undefined){return parseInt(i)}}return undefined}},{key:"attributeTag",value:function e(t){var r=this.elements[t];if(r&&r.length===4){var n=f(r,this.byteArrayParser).readUint16;var i=this.byteArray;var a=r.dataOffset;return"x"+("00000000"+(n(i,a)*256*256+n(i,a+2)).toString(16)).substr(-8)}return undefined}}]);return n}();t.default=n},function(e,g,t){(function(e){function t(e){if(Array.isArray){return Array.isArray(e)}return v(e)==="[object Array]"}g.isArray=t;function r(e){return typeof e==="boolean"}g.isBoolean=r;function n(e){return e===null}g.isNull=n;function i(e){return e==null}g.isNullOrUndefined=i;function a(e){return typeof e==="number"}g.isNumber=a;function s(e){return typeof e==="string"}g.isString=s;function f(e){return typeof e==="symbol"}g.isSymbol=f;function o(e){return e===void 0}g.isUndefined=o;function u(e){return v(e)==="[object RegExp]"}g.isRegExp=u;function l(e){return typeof e==="object"&&e!==null}g.isObject=l;function d(e){return v(e)==="[object Date]"}g.isDate=d;function h(e){return v(e)==="[object Error]"||e instanceof Error}g.isError=h;function c(e){return typeof e==="function"}g.isFunction=c;function p(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}g.isPrimitive=p;g.isBuffer=e.isBuffer;function v(e){return Object.prototype.toString.call(e)}}).call(g,t(0).Buffer)},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseDicomDataSetExplicit=o;t.parseDicomDataSetImplicit=u;var n=r(9);var s=a(n);var i=r(18);var f=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};r=r===undefined?t.byteArray.length:r;if(t===undefined){throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'"}if(r<t.position||r>t.byteArray.length){throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'"}var i=e.elements;while(t.position<r){var a=(0,s.default)(t,e.warnings,n.untilTag);i[a.tag]=a;if(a.tag===n.untilTag){return}}if(t.position>r){throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}}function u(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};r=r===undefined?e.byteArray.length:r;if(t===undefined){throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'"}if(r<t.position||r>t.byteArray.length){throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'"}var i=e.elements;while(t.position<r){var a=(0,f.default)(t,n.untilTag,n.vrCallback);i[a.tag]=a;if(a.tag===n.untilTag){return}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=v;var n=r(24);var a=c(n);var i=r(25);var s=c(i);var f=r(17);var o=c(f);var u=r(1);var l=c(u);var d=r(26);var h=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var p=function e(t){if(t==="OB"||t==="OW"||t==="SQ"||t==="OF"||t==="UT"||t==="UN"){return 4}return 2};function v(e,t,r){if(e===undefined){throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'"}var n={tag:(0,l.default)(e),vr:e.readFixedString(2)};var i=p(n.vr);if(i===2){n.length=e.readUint16();n.dataOffset=e.position}else{e.seek(2);n.length=e.readUint32();n.dataOffset=e.position}if(n.length===4294967295){n.hadUndefinedLength=true}if(n.tag===r){return n}if(n.vr==="SQ"){(0,h.default)(e,n,t);return n}if(n.length===4294967295){if(n.tag==="x7fe00010"){(0,a.default)(e,n,t);return n}else if(n.vr==="UN"){(0,s.default)(e,n);return n}(0,o.default)(e,n);return n}e.seek(n.length);return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.readFixedString=n;function n(e,t,r){if(r<0){throw"dicomParser.readFixedString - length cannot be less than 0"}if(t+r>e.length){throw"dicomParser.readFixedString: attempt to read past end of buffer"}var n="";var i;for(var a=0;a<r;a++){i=e[t+a];if(i===0){t+=r;return n}n+=String.fromCharCode(i)}return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var n=r(1);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e===undefined){throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'"}var t={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};if(t.tag!=="xfffee000"){throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position}return t}},function(e,o,u){"use strict";(function(i){Object.defineProperty(o,"__esModule",{value:true});var e=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}}();var t=u(13);var a=r(t);var s=u(10);function r(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function n(e,t,r){f(this,n);if(e===undefined){throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'"}if(t===undefined){throw"dicomParser.ByteStream: missing required parameter 'byteArray'"}if(t instanceof Uint8Array===false&&t instanceof i===false){throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer"}if(r<0){throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0"}if(r>=t.length){throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length"}this.byteArrayParser=e;this.byteArray=t;this.position=r?r:0;this.warnings=[]}e(n,[{key:"seek",value:function e(t){if(this.position+t<0){throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0"}this.position+=t}},{key:"readByteStream",value:function e(t){if(this.position+t>this.byteArray.length){throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread"}var r=(0,a.default)(this.byteArray,this.position,t);this.position+=t;return new n(this.byteArrayParser,r)}},{key:"readUint16",value:function e(){var t=this.byteArrayParser.readUint16(this.byteArray,this.position);this.position+=2;return t}},{key:"readUint32",value:function e(){var t=this.byteArrayParser.readUint32(this.byteArray,this.position);this.position+=4;return t}},{key:"readFixedString",value:function e(t){var r=(0,s.readFixedString)(this.byteArray,this.position,t);this.position+=t;return r}}]);return n}();o.default=n}).call(o,u(0).Buffer)},function(e,t,r){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:true});t.default=e;function e(e,t,r){if(typeof n!=="undefined"&&e instanceof n){return e.slice(t,t+r)}else if(e instanceof Uint8Array){return new Uint8Array(e.buffer,e.byteOffset+t,r)}throw"dicomParser.from: unknown type for byteArray"}}).call(t,r(0).Buffer)},function(t,e,r){"use strict";(function(f){if(!f.version||f.version.indexOf("v0.")===0||f.version.indexOf("v1.")===0&&f.version.indexOf("v1.8.")!==0){t.exports=e}else{t.exports=f.nextTick}function e(t,r,n,i){if(typeof t!=="function"){throw new TypeError('"callback" argument must be a function')}var e=arguments.length;var a,s;switch(e){case 0:case 1:return f.nextTick(t);case 2:return f.nextTick(function e(){t.call(null,r)});case 3:return f.nextTick(function e(){t.call(null,r,n)});case 4:return f.nextTick(function e(){t.call(null,r,n,i)});default:a=new Array(e-1);s=0;while(s<a.length){a[s++]=arguments[s]}return f.nextTick(function e(){t.apply(null,a)})}}}).call(e,r(3))},function(e,t,r){"use strict";var n=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var r=t.shift();if(!r){continue}if(typeof r!=="object"){throw new TypeError(r+"must be non-object")}for(var n in r){if(r.hasOwnProperty(n)){e[n]=r[n]}}}return e};t.shrinkBuf=function(e,t){if(e.length===t){return e}if(e.subarray){return e.subarray(0,t)}e.length=t;return e};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var a=0;a<n;a++){e[i+a]=t[r+a]}},flattenChunks:function(e){var t,r,n,i,a,s;n=0;for(t=0,r=e.length;t<r;t++){n+=e[t].length}s=new Uint8Array(n);i=0;for(t=0,r=e.length;t<r;t++){a=e[t];s.set(a,i);i+=a.length}return s}};var a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++){e[i+a]=t[r+a]}},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){if(e){t.Buf8=Uint8Array;t.Buf16=Uint16Array;t.Buf32=Int32Array;t.assign(t,i)}else{t.Buf8=Array;t.Buf16=Array;t.Buf32=Array;t.assign(t,a)}};t.setTyped(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={AE:true,AS:true,AT:false,CS:true,DA:true,DS:true,DT:true,FL:false,FD:false,IS:true,LO:true,LT:true,OB:false,OD:false,OF:false,OW:false,PN:true,SH:true,SL:false,SQ:false,SS:false,ST:true,TM:true,UI:true,UL:false,UN:undefined,UR:true,US:false,UT:true};var i=function e(t){return n[t]};var a=function e(t){var r=parseInt(t[4],10);var n=r%2===1;return n};var s=function e(t){if(t===undefined){return undefined}var r=t.split("^");return{familyName:r[0],givenName:r[1],middleName:r[2],prefix:r[3],suffix:r[4]}};t.isStringVr=i;t.isPrivateTag=a;t.parsePN=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e,t){if(e===undefined){throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'"}var r=8;var n=e.byteArray.length-r;while(e.position<=n){var i=e.readUint16();if(i===65534){var a=e.readUint16();if(a===57357){var s=e.readUint32();if(s!==0){e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag)}t.length=e.position-t.dataOffset;return}}}t.length=e.byteArray.length-t.dataOffset;e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=d;var n=r(17);var i=u(n);var a=r(27);var s=u(a);var f=r(1);var o=u(f);function u(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,r,n){if(typeof n!=="undefined"){return n(t.tag)==="SQ"}if(r.position+4<=r.byteArray.length){var i=(0,o.default)(r);r.seek(-4);return i==="xfffee000"||i==="xfffee0dd"}r.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR");return false};function d(e,t,r){if(e===undefined){throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'"}var n={tag:(0,o.default)(e),length:e.readUint32(),dataOffset:e.position};if(n.length===4294967295){n.hadUndefinedLength=true}if(n.tag===t){return n}if(l(n,e,r)){(0,s.default)(e,n);return n}if(n.hadUndefinedLength){(0,i.default)(e,n);return n}e.seek(n.length);return n}},function(e,t,r){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:true});t.default=e;function e(e,t){if(typeof r!=="undefined"&&e instanceof r){return r.alloc(t)}else if(e instanceof Uint8Array){return new Uint8Array(t)}throw"dicomParser.alloc: unknown type for byteArray"}}).call(t,r(0).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={readUint16:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0"}if(r+2>t.length){throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer"}return t[r]+t[r+1]*256},readInt16:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0"}if(r+2>t.length){throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer"}var n=t[r]+(t[r+1]<<8);if(n&32768){n=n-65535-1}return n},readUint32:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0"}if(r+4>t.length){throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer"}return t[r]+t[r+1]*256+t[r+2]*256*256+t[r+3]*256*256*256},readInt32:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0"}if(r+4>t.length){throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer"}return t[r]+(t[r+1]<<8)+(t[r+2]<<16)+(t[r+3]<<24)},readFloat:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0"}if(r+4>t.length){throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer"}var n=new Uint8Array(4);n[0]=t[r];n[1]=t[r+1];n[2]=t[r+2];n[3]=t[r+3];var i=new Float32Array(n.buffer);return i[0]},readDouble:function e(t,r){if(r<0){throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0"}if(r+8>t.length){throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer"}var n=new Uint8Array(8);n[0]=t[r];n[1]=t[r+1];n[2]=t[r+2];n[3]=t[r+3];n[4]=t[r+4];n[5]=t[r+5];n[6]=t[r+6];n[7]=t[r+7];var i=new Float64Array(n.buffer);return i[0]}}},function(e,t,r){var n=r(0);var i=n.Buffer;function a(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{a(n,t);t.Buffer=s}function s(e,t,r){return i(e,t,r)}a(i,s);s.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};s.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};s.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};s.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=o;var n=r(19);var v=f(n);var i=r(12);var g=f(i);var a=r(11);var m=f(a);var s=r(13);var _=f(s);function f(e){return e&&e.__esModule?e:{default:e}}var b=function e(t,r,n){var i=0;for(var a=r;a<r+n;a++){i+=t[a].length}return i};function o(e,t,r,n,i){n=n||1;i=i||t.fragments;if(e===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'"}if(t===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'"}if(r===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'"}if(n===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'"}if(t.tag!=="x7fe00010"){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010"}if(t.encapsulatedPixelData!==true){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.hadUndefinedLength!==true){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.basicOffsetTable===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.fragments===undefined){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.fragments.length<=0){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(r<0){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0"}if(r>=t.fragments.length){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments"}if(n<1){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0"}if(r+n>t.fragments.length){throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments"}var a=new g.default(e.byteArrayParser,e.byteArray,t.dataOffset);var s=(0,m.default)(a);if(s.tag!=="xfffee000"){throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000"}a.seek(s.length);var f=a.position;var o=8;if(n===1){return(0,_.default)(a.byteArray,f+i[r].offset+o,i[r].length)}var u=b(i,r,n);var l=(0,v.default)(a.byteArray,u);var d=0;for(var h=r;h<r+n;h++){var c=f+i[h].offset+o;for(var p=0;p<i[h].length;p++){l[d++]=a.byteArray[c++]}}return l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;var n=r(16);var f=i(n);function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function a(i,e){if(i===undefined||e===undefined){throw"dicomParser.explicitElementToString: missing required parameters"}if(e.vr===undefined){throw"dicomParser.explicitElementToString: cannot convert implicit element to string"}var t=e.vr;var a=e.tag;var r;function n(e,t){var r="";for(var n=0;n<e;n++){if(n!==0){r+="/"}r+=t.call(i,a,n).toString()}return r}if(f.isStringVr(t)===true){r=i.string(a)}else if(t==="AT"){var s=i.uint32(a);if(s===undefined){return undefined}if(s<0){s=4294967295+s+1}return"x"+s.toString(16).toUpperCase()}else if(t==="US"){r=n(e.length/2,i.uint16)}else if(t==="SS"){r=n(e.length/2,i.int16)}else if(t==="UL"){r=n(e.length/4,i.uint32)}else if(t==="SL"){r=n(e.length/4,i.int32)}else if(t==="FD"){r=n(e.length/8,i.double)}else if(t==="FL"){r=n(e.length/4,i.float)}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;var n=r(1);var d=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){if(e===undefined){throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'"}if(t===undefined){throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'"}t.encapsulatedPixelData=true;t.basicOffsetTable=[];t.fragments=[];var n=(0,d.default)(e);if(n!=="xfffee000"){throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found"}var i=e.readUint32();var a=i/4;for(var s=0;s<a;s++){var f=e.readUint32();t.basicOffsetTable.push(f)}var o=e.position;while(e.position<e.byteArray.length){var u=(0,d.default)(e);var l=e.readUint32();if(u==="xfffee0dd"){e.seek(l);t.length=e.position-t.dataOffset;return}else if(u==="xfffee000"){t.fragments.push({offset:e.position-o-8,position:e.position,length:l})}else{if(r){r.push("unexpected tag "+u+" while searching for end of pixel data element with undefined length")}if(l>e.byteArray.length-e.position){l=e.byteArray.length-e.position}t.fragments.push({offset:e.position-o-8,position:e.position,length:l});e.seek(l);t.length=e.position-t.dataOffset;return}e.seek(l)}if(r){r.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e,t){if(e===undefined){throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'"}var r=8;var n=e.byteArray.length-r;while(e.position<=n){var i=e.readUint16();if(i===65534){var a=e.readUint16();if(a===57565){var s=e.readUint32();if(s!==0){e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag)}t.length=e.position-t.dataOffset;return}}}t.length=e.byteArray.length-t.dataOffset;e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=b;var n=r(5);var i=p(n);var a=r(9);var s=p(a);var f=r(11);var o=p(f);var u=r(1);var l=p(u);var d=r(8);var h=c(d);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var r={};while(e.position<e.byteArray.length){var n=(0,s.default)(e,t);r[n.tag]=n;if(n.tag==="xfffee00d"){return new i.default(e.byteArrayParser,e.byteArray,r)}}t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length");return new i.default(e.byteArrayParser,e.byteArray,r)}function g(e,t){var r=(0,o.default)(e);if(r.length===4294967295){r.hadUndefinedLength=true;r.dataSet=v(e,t);r.length=e.position-r.dataOffset}else{r.dataSet=new i.default(e.byteArrayParser,e.byteArray,{});h.parseDicomDataSetExplicit(r.dataSet,e,e.position+r.length)}return r}function m(e,t,r){while(e.position+4<=e.byteArray.length){var n=(0,l.default)(e);e.seek(-4);if(n==="xfffee0dd"){t.length=e.position-t.dataOffset;e.seek(8);return t}var i=g(e,r);t.items.push(i)}r.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length");t.length=e.position-t.dataOffset}function _(e,t,r){var n=t.dataOffset+t.length;while(e.position<n){var i=g(e,r);t.items.push(i)}}function b(e,t,r){if(e===undefined){throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'"}if(t===undefined){throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'"}t.items=[];if(t.length===4294967295){m(e,t,r)}else{_(e,t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=b;var n=r(5);var i=p(n);var a=r(18);var s=p(a);var f=r(11);var o=p(f);var u=r(1);var l=p(u);var d=r(8);var h=c(d);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var r={};while(e.position<e.byteArray.length){var n=(0,s.default)(e,undefined,t);r[n.tag]=n;if(n.tag==="xfffee00d"){return new i.default(e.byteArrayParser,e.byteArray,r)}}e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length");return new i.default(e.byteArrayParser,e.byteArray,r)}function g(e,t){var r=(0,o.default)(e);if(r.length===4294967295){r.hadUndefinedLength=true;r.dataSet=v(e,t);r.length=e.position-r.dataOffset}else{r.dataSet=new i.default(e.byteArrayParser,e.byteArray,{});h.parseDicomDataSetImplicit(r.dataSet,e,e.position+r.length,{vrCallback:t})}return r}function m(e,t,r){while(e.position+4<=e.byteArray.length){var n=(0,l.default)(e);e.seek(-4);if(n==="xfffee0dd"){t.length=e.position-t.dataOffset;e.seek(8);return t}var i=g(e,r);t.items.push(i)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length");t.length=e.byteArray.length-t.dataOffset}function _(e,t,r){var n=t.dataOffset+t.length;while(e.position<n){var i=g(e,r);t.items.push(i)}}function b(e,t,r){if(e===undefined){throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'"}if(t===undefined){throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'"}t.items=[];if(t.length===4294967295){m(e,t,r)}else{_(e,t,r)}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return r.call(e)=="[object Array]"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={readUint16:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0"}if(r+2>t.length){throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer"}return(t[r]<<8)+t[r+1]},readInt16:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0"}if(r+2>t.length){throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer"}var n=(t[r]<<8)+t[r+1];if(n&32768){n=n-65535-1}return n},readUint32:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0"}if(r+4>t.length){throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer"}var n=256*(256*(256*t[r]+t[r+1])+t[r+2])+t[r+3];return n},readInt32:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0"}if(r+4>t.length){throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer"}var n=(t[r]<<24)+(t[r+1]<<16)+(t[r+2]<<8)+t[r+3];return n},readFloat:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0"}if(r+4>t.length){throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer"}var n=new Uint8Array(4);n[3]=t[r];n[2]=t[r+1];n[1]=t[r+2];n[0]=t[r+3];var i=new Float32Array(n.buffer);return i[0]},readDouble:function e(t,r){if(r<0){throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0"}if(r+8>t.length){throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer"}var n=new Uint8Array(8);n[7]=t[r];n[6]=t[r+1];n[5]=t[r+2];n[4]=t[r+3];n[3]=t[r+4];n[2]=t[r+5];n[1]=t[r+6];n[0]=t[r+7];var i=new Float64Array(n.buffer);return i[0]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=h;var n=r(12);var i=d(n);var a=r(5);var f=d(a);var s=r(20);var o=d(s);var u=r(9);var l=d(u);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(e===undefined){throw"dicomParser.readPart10Header: missing required parameter 'byteArray'"}var a=new i.default(o.default,e);function s(){a.seek(128);var e=a.readFixedString(4);if(e!=="DICM"){var t="";var r;for(var n=0;n<200;n++){r=a.byteArray[n];t+=String.fromCharCode(r)}if(t.indexOf("UI")>0){a.position=t.indexOf("UI")-4}else{throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}}}function r(){s();var e=[];var t={};while(a.position<a.byteArray.length){var r=a.position;var n=(0,l.default)(a,e);if(n.tag>"x0002ffff"){a.position=r;break}n.parser=o.default;t[n.tag]=n}var i=new f.default(a.byteArrayParser,a.byteArray,t);i.warnings=a.warnings;i.position=a.position;return i}return r()}},function(G,e,V){"use strict";(function(e,m){var _=V(14);G.exports=g;var n=V(28);var i;g.ReadableState=v;var t=V(32).EventEmitter;var b=function(e,t){return e.listeners(t).length};var a=V(33);var f=V(21).Buffer;var r=e.Uint8Array||function(){};function o(e){return f.from(e)}function s(e){return f.isBuffer(e)||e instanceof r}var u=V(6);u.inherits=V(7);var l=V(57);var y=void 0;if(l&&l.debuglog){y=l.debuglog("stream")}else{y=function(){}}var d=V(58);var h=V(34);var c;u.inherits(g,a);var p=["error","close","destroy","pause","resume"];function w(e,t,r){if(typeof e.prependListener==="function"){return e.prependListener(t,r)}else{if(!e._events||!e._events[t])e.on(t,r);else if(n(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}}function v(e,t){i=i||V(4);e=e||{};this.objectMode=!!e.objectMode;if(t instanceof i)this.objectMode=this.objectMode||!!e.readableObjectMode;var r=e.highWaterMark;var n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new d;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!c)c=V(36).StringDecoder;this.decoder=new c(e.encoding);this.encoding=e.encoding}}function g(e){i=i||V(4);if(!(this instanceof g))return new g(e);this._readableState=new v(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}a.call(this)}Object.defineProperty(g.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});g.prototype.destroy=h.destroy;g.prototype._undestroy=h.undestroy;g.prototype._destroy=function(e,t){this.push(null);t(e)};g.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=f.from(e,t);t=""}n=true}}else{n=true}return E(this,e,t,false,n)};g.prototype.unshift=function(e){return E(this,e,null,true,false)};function E(e,t,r,n,i){var a=e._readableState;if(t===null){a.reading=false;T(e,a)}else{var s;if(!i)s=x(a,t);if(s){e.emit("error",s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==f.prototype){t=o(t)}if(n){if(a.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else k(e,a,t,true)}else if(a.ended){e.emit("error",new Error("stream.push() after EOF"))}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)k(e,a,t,false);else D(e,a)}else{k(e,a,t,false)}}}else if(!n){a.reading=false}}return S(a)}function k(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)R(e)}D(e,t)}function x(e,t){var r;if(!s(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function S(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}g.prototype.isPaused=function(){return this._readableState.flowing===false};g.prototype.setEncoding=function(e){if(!c)c=V(36).StringDecoder;this._readableState.decoder=new c(e);this._readableState.encoding=e;return this};var A=8388608;function P(e){if(e>=A){e=A}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function O(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=P(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}g.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)q(this);else R(this);return null}e=O(e,t);if(e===0&&t.ended){if(t.length===0)q(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=O(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)q(this)}if(i!==null)this.emit("data",i);return i};function T(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;R(e)}function R(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)_(I,e);else I(e)}}function I(e){y("emit readable");e.emit("readable");j(e)}function D(e,t){if(!t.readingMore){t.readingMore=true;_(L,e,t)}}function L(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){y("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};g.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==m.stdout&&r!==m.stderr;var a=t?f:g;if(i.endEmitted)_(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function f(){y("onend");r.end()}var o=B(n);r.on("drain",o);var u=false;function l(){y("cleanup");r.removeListener("close",p);r.removeListener("finish",v);r.removeListener("drain",o);r.removeListener("error",c);r.removeListener("unpipe",s);n.removeListener("end",f);n.removeListener("end",g);n.removeListener("data",h);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))o()}var d=false;n.on("data",h);function h(e){y("ondata");d=false;var t=r.write(e);if(false===t&&!d){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&H(i.pipes,r)!==-1)&&!u){y("false write response, pause",n._readableState.awaitDrain);n._readableState.awaitDrain++;d=true}n.pause()}}function c(e){y("onerror",e);g();r.removeListener("error",c);if(b(r,"error")===0)r.emit("error",e)}w(r,"error",c);function p(){r.removeListener("finish",v);g()}r.once("close",p);function v(){y("onfinish");r.removeListener("close",p);g()}r.once("finish",v);function g(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function B(t){return function(){var e=t._readableState;y("pipeOnDrain",e.awaitDrain);if(e.awaitDrain)e.awaitDrain--;if(e.awaitDrain===0&&b(t,"data")){e.flowing=true;j(t)}}}g.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,r)}return this}var s=H(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};g.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var n=this._readableState;if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.emittedReadable=false;if(!n.reading){_(M,this)}else if(n.length){R(this)}}}return r};g.prototype.addListener=g.prototype.on;function M(e){y("readable nexttick read 0");e.read(0)}g.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=true;U(this,e)}return this};function U(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;_(F,e,t)}}function F(e,t){if(!t.reading){y("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");j(e);if(t.flowing&&!t.reading)e.read(0)}g.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){y("pause");this._readableState.flowing=false;this.emit("pause")}return this};function j(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}g.prototype.wrap=function(r){var n=this._readableState;var i=false;var a=this;r.on("end",function(){y("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();if(e&&e.length)a.push(e)}a.push(null)});r.on("data",function(e){y("wrapped data");if(n.decoder)e=n.decoder.write(e);if(n.objectMode&&(e===null||e===undefined))return;else if(!n.objectMode&&(!e||!e.length))return;var t=a.push(e);if(!t){i=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function(e){return function(){return r[e].apply(r,arguments)}}(e)}}for(var t=0;t<p.length;t++){r.on(p[t],a.emit.bind(a,p[t]))}a._read=function(e){y("wrapped _read",e);if(i){i=false;r.resume()}};return a};g._fromList=z;function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.head.data;else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=N(e,t.buffer,t.decoder)}return r}function N(e,t,r){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=r?C(e,t):Z(e,t)}return n}function C(e,t){var r=t.head;var n=1;var i=r.data;e-=i.length;while(r=r.next){var a=r.data;var s=e>a.length?a.length:e;if(s===a.length)i+=a;else i+=a.slice(0,e);e-=s;if(e===0){if(s===a.length){++n;if(r.next)t.head=r.next;else t.head=t.tail=null}else{t.head=r;r.data=a.slice(s)}break}++n}t.length-=n;return i}function Z(e,t){var r=f.allocUnsafe(e);var n=t.head;var i=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var a=n.data;var s=e>a.length?a.length:e;a.copy(r,r.length-e,0,s);e-=s;if(e===0){if(s===a.length){++i;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=a.slice(s)}break}++i}t.length-=i;return r}function q(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;_(Y,t,e)}}function Y(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function W(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}function H(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(e,V(2),V(3))},function(e,t){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}e.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,i,a,s;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||u(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}else{var f=new Error('Uncaught, unspecified "error" event. ('+t+")");f.context=t;throw f}}}r=this._events[e];if(l(r))return false;if(o(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1);r.apply(this,i)}}else if(u(r)){i=Array.prototype.slice.call(arguments,1);s=r.slice();n=s.length;for(a=0;a<n;a++)s[a].apply(this,i)}return true};n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,o(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(u(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(u(this._events[e])&&!this._events[e].warned){if(!l(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];i=r.length;n=-1;if(r===t||o(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(u(r)){for(a=i;a-- >0;){if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(o(r)){this.removeListener(e,r)}else if(r){while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(o(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;else if(t)return t.length}return 0};n.listenerCount=function(e,t){return e.listenerCount(t)};function o(e){return typeof e==="function"}function r(e){return typeof e==="number"}function u(e){return typeof e==="object"&&e!==null}function l(e){return e===void 0}},function(e,t,r){e.exports=r(32).EventEmitter},function(e,t,r){"use strict";var a=r(14);function n(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e&&(!this._writableState||!this._writableState.errorEmitted)){a(s,this,e)}return}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){a(s,r,e);if(r._writableState){r._writableState.errorEmitted=true}}else if(t){t(e)}})}function i(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function s(e,t){e.emit("error",t)}e.exports={destroy:n,undestroy:i}},function(F,e,j){"use strict";(function(e,t,r){var s=j(14);F.exports=b;function n(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function h(e){var t=this;this.next=null;this.entry=null;this.finish=function(){U(t,e)}}var f=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?t:s;var a;b.WritableState=m;var i=j(6);i.inherits=j(7);var o={deprecate:j(61)};var u=j(33);var l=j(21).Buffer;var d=r.Uint8Array||function(){};function c(e){return l.from(e)}function p(e){return l.isBuffer(e)||e instanceof d}var v=j(34);i.inherits(b,u);function g(){}function m(e,t){a=a||j(4);e=e||{};this.objectMode=!!e.objectMode;if(t instanceof a)this.objectMode=this.objectMode||!!e.writableObjectMode;var r=e.highWaterMark;var n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var i=e.decodeStrings===false;this.decodeStrings=!i;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){P(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new h(this)}m.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(m.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var _;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){_=Function.prototype[Symbol.hasInstance];Object.defineProperty(b,Symbol.hasInstance,{value:function(e){if(_.call(this,e))return true;return e&&e._writableState instanceof m}})}else{_=function(e){return e instanceof this}}function b(e){a=a||j(4);if(!_.call(b,this)&&!(this instanceof a)){return new b(e)}this._writableState=new m(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}u.call(this)}b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function y(e,t){var r=new Error("write after end");e.emit("error",r);s(t,r)}function w(e,t,r,n){var i=true;var a=false;if(r===null){a=new TypeError("May not write null values to stream")}else if(typeof r!=="string"&&r!==undefined&&!t.objectMode){a=new TypeError("Invalid non-string/buffer chunk")}if(a){e.emit("error",a);s(n,a);i=false}return i}b.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=p(e)&&!n.objectMode;if(a&&!l.isBuffer(e)){e=c(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=g;if(n.ended)y(this,r);else if(a||w(this,n,e,r)){n.pendingcb++;i=k(this,n,a,e,t,r)}return i};b.prototype.cork=function(){var e=this._writableState;e.corked++};b.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)R(this,e)}};b.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function E(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=l.from(t,r)}return t}function k(e,t,r,n,i,a){if(!r){var s=E(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var f=t.objectMode?1:n.length;t.length+=f;var o=t.length<t.highWaterMark;if(!o)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{x(e,t,false,f,n,i,a)}return o}function x(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function S(e,t,r,n,i){--t.pendingcb;if(r){s(i,n);s(B,e,t);e._writableState.errorEmitted=true;e.emit("error",n)}else{i(n);e._writableState.errorEmitted=true;e.emit("error",n);B(e,t)}}function A(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function P(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;A(r);if(t)S(e,r,n,t,i);else{var a=I(r);if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){R(e,r)}if(n){f(O,e,r,a,i)}else{O(e,r,a,i)}}}function O(e,t,r,n){if(!r)T(e,t);t.pendingcb--;n();B(e,t)}function T(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function R(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var f=true;while(r){i[s]=r;if(!r.isBuf)f=false;r=r.next;s+=1}i.allBuffers=f;x(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new h(t)}}else{while(r){var o=r.chunk;var u=r.encoding;var l=r.callback;var d=t.objectMode?1:o.length;x(e,t,false,d,o,u,l);r=r.next;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequestCount=0;t.bufferedRequest=r;t.bufferProcessing=false}b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};b.prototype._writev=null;b.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)M(this,n,r)};function I(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function D(t,r){t._final(function(e){r.pendingcb--;if(e){t.emit("error",e)}r.prefinished=true;t.emit("prefinish");B(t,r)})}function L(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;s(D,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function B(e,t){var r=I(t);if(r){L(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return r}function M(e,t,r){t.ending=true;B(e,t);if(r){if(t.finished)s(r);else e.once("finish",r)}t.ended=true;e.writable=false}function U(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}if(t.corkedRequestsFree){t.corkedRequestsFree.next=e}else{t.corkedRequestsFree=e}}Object.defineProperty(b.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});b.prototype.destroy=v.destroy;b.prototype._undestroy=v.undestroy;b.prototype._destroy=function(e,t){this.end();t(e)}}).call(e,j(3),j(59).setImmediate,j(2))},function(e,t,r){var n=r(0).Buffer;var i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function a(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var s=t.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");a(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=u;break;default:this.write=f;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};s.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var a=this.surrogateSize;this.charLength+=a;this.charReceived+=a;this.charBuffer.copy(this.charBuffer,a,0,a);e.copy(this.charBuffer,0,0,a);return t.substring(0,i)}return t};s.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};s.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var n=this.charBuffer;var i=this.encoding;t+=n.slice(0,r).toString(i)}return t};function f(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function u(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},function(e,t,r){"use strict";e.exports=f;var n=r(4);var i=r(6);i.inherits=r(7);i.inherits(f,n);function a(r){this.afterTransform=function(e,t){return s(r,e,t)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function s(e,t,r){var n=e._transformState;n.transforming=false;var i=n.writecb;if(!i){return e.emit("error",new Error("write callback called multiple times"))}n.writechunk=null;n.writecb=null;if(r!==null&&r!==undefined)e.push(r);i(t);var a=e._readableState;a.reading=false;if(a.needReadable||a.length<a.highWaterMark){e._read(a.highWaterMark)}}function f(e){if(!(this instanceof f))return new f(e);n.call(this,e);this._transformState=new a(this);var r=this;this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(e,t){o(r,e,t)});else o(r)})}f.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};f.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};f.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};f.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};f.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e);r.emit("close")})};function o(e,t,r){if(t)return e.emit("error",t);if(r!==null&&r!==undefined)e.push(r);var n=e._writableState;var i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";function n(e,t,r,n){var i=e&65535|0,a=e>>>16&65535|0,s=0;while(r!==0){s=r>2e3?2e3:r;r-=s;do{i=i+t[n++]|0;a=a+i|0}while(--s);i%=65521;a%=65521}return i|a<<16|0}e.exports=n},function(e,t,r){"use strict";function n(){var e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++){e=e&1?3988292384^e>>>1:e>>>1}t[r]=e}return t}var f=n();function i(e,t,r,n){var i=f,a=n+r;e^=-1;for(var s=n;s<a;s++){e=e>>>8^i[(e^t[s])&255]}return e^-1}e.exports=i},function(e,B,M){(function(i,a){var f=/%[sdj%]/g;B.format=function(e){if(!w(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(o(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var i=n.length;var a=String(e).replace(f,function(e){if(e==="%%")return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}});for(var s=n[r];r<i;s=n[++r]){if(d(s)||!x(s)){a+=" "+s}else{a+=" "+o(s)}}return a};B.deprecate=function(e,t){if(E(i.process)){return function(){return B.deprecate(e,t).apply(this,arguments)}}if(a.noDeprecation===true){return e}var r=false;function n(){if(!r){if(a.throwDeprecation){throw new Error(t)}else if(a.traceDeprecation){console.trace(t)}else{console.error(t)}r=true}return e.apply(this,arguments)}return n};var e={};var n;B.debuglog=function(t){if(E(n))n=a.env.NODE_DEBUG||"";t=t.toUpperCase();if(!e[t]){if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=a.pid;e[t]=function(){var e=B.format.apply(B,arguments);console.error("%s %d: %s",t,r,e)}}else{e[t]=function(){}}}return e[t]};function o(e,t){var r={seen:[],stylize:u};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(l(t)){r.showHidden=t}else if(t){B._extend(r,t)}if(E(r.showHidden))r.showHidden=false;if(E(r.depth))r.depth=2;if(E(r.colors))r.colors=false;if(E(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=s;return p(r,e,r.depth)}B.inspect=o;o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(e,t){var r=o.styles[t];if(r){return"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m"}else{return e}}function u(e,t){return e}function c(e){var r={};e.forEach(function(e,t){r[e]=true});return r}function p(t,r,n){if(t.customInspect&&r&&P(r.inspect)&&r.inspect!==B.inspect&&!(r.constructor&&r.constructor.prototype===r)){var e=r.inspect(n,t);if(!w(e)){e=p(t,e,n)}return e}var i=v(t,r);if(i){return i}var a=Object.keys(r);var s=c(a);if(t.showHidden){a=Object.getOwnPropertyNames(r)}if(A(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0)){return g(r)}if(a.length===0){if(P(r)){var f=r.name?": "+r.name:"";return t.stylize("[Function"+f+"]","special")}if(k(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}if(S(r)){return t.stylize(Date.prototype.toString.call(r),"date")}if(A(r)){return g(r)}}var o="",u=false,l=["{","}"];if(y(r)){u=true;l=["[","]"]}if(P(r)){var d=r.name?": "+r.name:"";o=" [Function"+d+"]"}if(k(r)){o=" "+RegExp.prototype.toString.call(r)}if(S(r)){o=" "+Date.prototype.toUTCString.call(r)}if(A(r)){o=" "+g(r)}if(a.length===0&&(!u||r.length==0)){return l[0]+o+l[1]}if(n<0){if(k(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}else{return t.stylize("[Object]","special")}}t.seen.push(r);var h;if(u){h=m(t,r,n,s,a)}else{h=a.map(function(e){return _(t,r,n,s,e,u)})}t.seen.pop();return b(h,o,l)}function v(e,t){if(E(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(h(t))return e.stylize(""+t,"number");if(l(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function m(t,r,n,i,e){var a=[];for(var s=0,f=r.length;s<f;++s){if(L(r,String(s))){a.push(_(t,r,n,i,String(s),true))}else{a.push("")}}e.forEach(function(e){if(!e.match(/^\d+$/)){a.push(_(t,r,n,i,e,true))}});return a}function _(e,t,r,n,i,a){var s,f,o;o=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(o.get){if(o.set){f=e.stylize("[Getter/Setter]","special")}else{f=e.stylize("[Getter]","special")}}else{if(o.set){f=e.stylize("[Setter]","special")}}if(!L(n,i)){s="["+i+"]"}if(!f){if(e.seen.indexOf(o.value)<0){if(d(r)){f=p(e,o.value,null)}else{f=p(e,o.value,r-1)}if(f.indexOf("\n")>-1){if(a){f=f.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{f="\n"+f.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{f=e.stylize("[Circular]","special")}}if(E(s)){if(a&&i.match(/^\d+$/)){return f}s=JSON.stringify(""+i);if(s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){s=s.substr(1,s.length-2);s=e.stylize(s,"name")}else{s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");s=e.stylize(s,"string")}}return s+": "+f}function b(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function y(e){return Array.isArray(e)}B.isArray=y;function l(e){return typeof e==="boolean"}B.isBoolean=l;function d(e){return e===null}B.isNull=d;function t(e){return e==null}B.isNullOrUndefined=t;function h(e){return typeof e==="number"}B.isNumber=h;function w(e){return typeof e==="string"}B.isString=w;function r(e){return typeof e==="symbol"}B.isSymbol=r;function E(e){return e===void 0}B.isUndefined=E;function k(e){return x(e)&&T(e)==="[object RegExp]"}B.isRegExp=k;function x(e){return typeof e==="object"&&e!==null}B.isObject=x;function S(e){return x(e)&&T(e)==="[object Date]"}B.isDate=S;function A(e){return x(e)&&(T(e)==="[object Error]"||e instanceof Error)}B.isError=A;function P(e){return typeof e==="function"}B.isFunction=P;function O(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}B.isPrimitive=O;B.isBuffer=M(71);function T(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var e=new Date;var t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}B.log=function(){console.log("%s - %s",D(),B.format.apply(B,arguments))};B.inherits=M(72);B._extend=function(e,t){if(!t||!x(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(B,M(2),M(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=a;var n=r(22);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,r){for(var n=0;n<t.length;n++){if(t[n].offset===r){return n}}};var l=function e(t,r,n,i){if(t===r.length-1){return n.length-i}var a=r[t+1];for(var s=i+1;s<n.length;s++){if(n[s].offset===a){return s-i}}throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function a(e,t,r,n,i){n=n||t.basicOffsetTable;i=i||t.fragments;if(e===undefined){throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'"}if(t===undefined){throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'"}if(r===undefined){throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'"}if(n===undefined){throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable"}if(t.tag!=="x7fe00010"){throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)"}if(t.encapsulatedPixelData!==true){throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.hadUndefinedLength!==true){throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length"}if(t.fragments===undefined){throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments"}if(n.length===0){throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries"}if(r<0){throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0"}if(r>=n.length){throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length"}var a=n[r];var s=u(i,a);if(s===undefined){throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry"}var f=l(r,n,i,s);return(0,o.default)(e,t,s,f,i)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=t(44);Object.keys(n).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(r,t,{enumerable:true,get:function e(){return n[t]}})});var i=t(8);Object.keys(i).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(r,t,{enumerable:true,get:function e(){return i[t]}})});var a=t(10);Object.keys(a).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(r,t,{enumerable:true,get:function e(){return a[t]}})});var s=t(19);Object.defineProperty(r,"alloc",{enumerable:true,get:function e(){return P(s).default}});var f=t(51);Object.defineProperty(r,"version",{enumerable:true,get:function e(){return P(f).default}});var o=t(29);Object.defineProperty(r,"bigEndianByteArrayParser",{enumerable:true,get:function e(){return P(o).default}});var u=t(12);Object.defineProperty(r,"ByteStream",{enumerable:true,get:function e(){return P(u).default}});var l=t(13);Object.defineProperty(r,"sharedCopy",{enumerable:true,get:function e(){return P(l).default}});var d=t(5);Object.defineProperty(r,"DataSet",{enumerable:true,get:function e(){return P(d).default}});var h=t(25);Object.defineProperty(r,"findAndSetUNElementLength",{enumerable:true,get:function e(){return P(h).default}});var c=t(24);Object.defineProperty(r,"findEndOfEncapsulatedElement",{enumerable:true,get:function e(){return P(c).default}});var p=t(17);Object.defineProperty(r,"findItemDelimitationItemAndSetElementLength",{enumerable:true,get:function e(){return P(p).default}});var v=t(20);Object.defineProperty(r,"littleEndianByteArrayParser",{enumerable:true,get:function e(){return P(v).default}});var g=t(52);Object.defineProperty(r,"parseDicom",{enumerable:true,get:function e(){return P(g).default}});var m=t(9);Object.defineProperty(r,"readDicomElementExplicit",{enumerable:true,get:function e(){return P(m).default}});var _=t(18);Object.defineProperty(r,"readDicomElementImplicit",{enumerable:true,get:function e(){return P(_).default}});var b=t(42);Object.defineProperty(r,"readEncapsulatedImageFrame",{enumerable:true,get:function e(){return P(b).default}});var y=t(74);Object.defineProperty(r,"readEncapsulatedPixelData",{enumerable:true,get:function e(){return P(y).default}});var w=t(22);Object.defineProperty(r,"readEncapsulatedPixelDataFromFragments",{enumerable:true,get:function e(){return P(w).default}});var E=t(30);Object.defineProperty(r,"readPart10Header",{enumerable:true,get:function e(){return P(E).default}});var k=t(26);Object.defineProperty(r,"readSequenceItemsExplicit",{enumerable:true,get:function e(){return P(k).default}});var x=t(27);Object.defineProperty(r,"readSequenceItemsImplicit",{enumerable:true,get:function e(){return P(x).default}});var S=t(11);Object.defineProperty(r,"readSequenceItem",{enumerable:true,get:function e(){return P(S).default}});var A=t(1);Object.defineProperty(r,"readTag",{enumerable:true,get:function e(){return P(A).default}});function P(e){return e&&e.__esModule?e:{default:e}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=t(16);Object.keys(n).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(r,t,{enumerable:true,get:function e(){return n[t]}})});var i=t(45);Object.defineProperty(r,"parseTM",{enumerable:true,get:function e(){return u(i).default}});var a=t(46);Object.defineProperty(r,"parseDA",{enumerable:true,get:function e(){return u(a).default}});var s=t(23);Object.defineProperty(r,"explicitElementToString",{enumerable:true,get:function e(){return u(s).default}});var f=t(47);Object.defineProperty(r,"explicitDataSetToJS",{enumerable:true,get:function e(){return u(f).default}});var o=t(48);Object.defineProperty(r,"createJPEGBasicOffsetTable",{enumerable:true,get:function e(){return u(o).default}});function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function n(e,t){if(e.length>=2){var r=parseInt(e.substring(0,2),10);var n=e.length>=4?parseInt(e.substring(2,4),10):undefined;var i=e.length>=6?parseInt(e.substring(4,6),10):undefined;var a=e.length>=8?parseInt(e.substring(7,13),10):undefined;if(t){if(isNaN(r)||n!==undefined&&isNaN(n)||i!==undefined&&isNaN(i)||a!==undefined&&isNaN(a)||r<0||r>23||n&&(n<0||n>59)||i&&(i<0||i>59)||a&&(a<0||a>999999)){throw"invalid TM '"+e+"'"}}return{hours:r,minutes:n,seconds:i,fractionalSeconds:a}}if(t){throw"invalid TM '"+e+"'"}return undefined}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;function n(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}function a(e,t,r){if(isNaN(r)){return false}return t>0&&t<=12&&e>0&&e<=n(t,r)}function i(e,t){if(e&&e.length===8){var r=parseInt(e.substring(0,4),10);var n=parseInt(e.substring(4,6),10);var i=parseInt(e.substring(6,8),10);if(t){if(a(i,n,r)!==true){throw"invalid DA '"+e+"'"}}return{year:r,month:n,day:i}}if(t){throw"invalid DA '"+e+"'"}return undefined}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(23);var o=s(n);var i=r(16);var u=a(i);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(e===undefined){throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet"}t=t||{omitPrivateAttibutes:true,maxElementLength:128};var r={};for(var n in e.elements){var i=e.elements[n];if(t.omitPrivateAttibutes===true&&u.isPrivateTag(n)){continue}if(i.items){var a=[];for(var s=0;s<i.items.length;s++){a.push(l(i.items[s].dataSet,t))}r[n]=a}else{var f;f=undefined;if(i.length<t.maxElementLength){f=(0,o.default)(e,i)}if(f!==undefined){r[n]=f}else{r[n]={dataOffset:i.dataOffset,length:i.length}}}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=n;function i(e,t){return e.byteArray[t]===255&&e.byteArray[t+1]===217}function a(e,t,r){var n=t.fragments[r];if(i(e,n.position+n.length-2)||i(e,n.position+n.length-3)){return true}return false}function s(e,t,r){for(var n=r;n<t.fragments.length;n++){if(a(e,t,n)){return n}}}function n(e,t,r){if(e===undefined){throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet"}if(t===undefined){throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement"}if(t.tag!=="x7fe00010"){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'"}if(t.encapsulatedPixelData!==true){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.hadUndefinedLength!==true){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.basicOffsetTable===undefined){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.fragments===undefined){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(t.fragments.length<=0){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data"}if(r&&r.length<=0){throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length"}r=r||t.fragments;var n=[];var i=0;while(true){n.push(t.fragments[i].offset);var a=s(e,t,i);if(a===undefined||a===t.fragments.length-1){return n}i=a+1}}},function(e,t,r){"use strict";t.byteLength=s;t.toByteArray=f;t.fromByteArray=p;var u=[];var o=[];var l=typeof Uint8Array!=="undefined"?Uint8Array:Array;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,a=n.length;i<a;++i){u[i]=n[i];o[n.charCodeAt(i)]=i}o["-".charCodeAt(0)]=62;o["_".charCodeAt(0)]=63;function d(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return e[t-2]==="="?2:e[t-1]==="="?1:0}function s(e){return e.length*3/4-d(e)}function f(e){var t,r,n,i,a;var s=e.length;i=d(e);a=new l(s*3/4-i);r=i>0?s-4:s;var f=0;for(t=0;t<r;t+=4){n=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)];a[f++]=n>>16&255;a[f++]=n>>8&255;a[f++]=n&255}if(i===2){n=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4;a[f++]=n&255}else if(i===1){n=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2;a[f++]=n>>8&255;a[f++]=n&255}return a}function h(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[e&63]}function c(e,t,r){var n;var i=[];for(var a=t;a<r;a+=3){n=(e[a]<<16)+(e[a+1]<<8)+e[a+2];i.push(h(n))}return i.join("")}function p(e){var t;var r=e.length;var n=r%3;var i="";var a=[];var s=16383;for(var f=0,o=r-n;f<o;f+=s){a.push(c(e,f,f+s>o?o:f+s))}if(n===1){t=e[r-1];i+=u[t>>2];i+=u[t<<4&63];i+="=="}else if(n===2){t=(e[r-2]<<8)+e[r-1];i+=u[t>>10];i+=u[t>>4&63];i+=u[t<<2&63];i+="="}a.push(i);return a.join("")}},function(e,t){t.read=function(e,t,r,n,i){var a,s;var f=i*8-n-1;var o=(1<<f)-1;var u=o>>1;var l=-7;var d=r?i-1:0;var h=r?-1:1;var c=e[t+d];d+=h;a=c&(1<<-l)-1;c>>=-l;l+=f;for(;l>0;a=a*256+e[t+d],d+=h,l-=8){}s=a&(1<<-l)-1;a>>=-l;l+=n;for(;l>0;s=s*256+e[t+d],d+=h,l-=8){}if(a===0){a=1-u}else if(a===o){return s?NaN:(c?-1:1)*Infinity}else{s=s+Math.pow(2,n);a=a-u}return(c?-1:1)*s*Math.pow(2,a-n)};t.write=function(e,t,r,n,i,a){var s,f,o;var u=a*8-i-1;var l=(1<<u)-1;var d=l>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var c=n?0:a-1;var p=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){f=isNaN(t)?1:0;s=l}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(o=Math.pow(2,-s))<1){s--;o*=2}if(s+d>=1){t+=h/o}else{t+=h*Math.pow(2,1-d)}if(t*o>=2){s++;o/=2}if(s+d>=l){f=0;s=l}else if(s+d>=1){f=(t*o-1)*Math.pow(2,i);s=s+d}else{f=t*Math.pow(2,d-1)*Math.pow(2,i);s=0}}for(;i>=8;e[r+c]=f&255,c+=p,f/=256,i-=8){}s=s<<i|f;u+=i;for(;u>0;e[r+c]=s&255,c+=p,s/=256,u-=8){}e[r+c-p]|=v*128}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default="1.7.6"},function(e,E,k){"use strict";(function(h){Object.defineProperty(E,"__esModule",{value:true});E.default=w;var e=k(19);var c=d(e);var t=k(29);var p=d(t);var r=k(12);var v=d(r);var n=k(5);var g=d(n);var i=k(20);var m=d(i);var a=k(30);var s=d(a);var f=k(13);var _=d(f);var o=k(10);var b=l(o);var u=k(8);var y=l(u);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function w(l,d){if(l===undefined){throw"dicomParser.parseDicom: missing required parameter 'byteArray'"}function f(e){if(e.elements.x00020010===undefined){throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010"}var t=e.elements.x00020010;return b.readFixedString(l,t.dataOffset,t.length)}function o(e){if(e==="1.2.840.10008.1.2"){return false}return true}function u(e,t){if(e==="1.2.840.10008.1.2.1.99"){if(d&&d.inflater){var r=d.inflater(l,t);return new v.default(m.default,r,0)}else if(typeof h!=="undefined"&&this.module!==h){var n=k(54);var i=(0,_.default)(l,t,l.length-t);var a=n.inflateRawSync(i);var s=(0,c.default)(l,a.length+t);l.copy(s,0,0,t);a.copy(s,t);return new v.default(m.default,s,0)}else if(typeof pako!=="undefined"){var f=l.slice(t);var o=pako.inflateRaw(f);var u=(0,c.default)(l,o.length+t);u.set(l.slice(0,t),0);u.set(o,t);return new v.default(m.default,u,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}if(e==="1.2.840.10008.1.2.2"){return new v.default(p.default,l,t)}return new v.default(m.default,l,t)}function r(e,t){for(var r in e.elements){if(e.elements.hasOwnProperty(r)){t.elements[r]=e.elements[r]}}if(e.warnings!==undefined){t.warnings=e.warnings.concat(t.warnings)}return t}function n(e){var t=f(e);var r=o(t);var n=u(t,e.position);var i={};var a=new g.default(n.byteArrayParser,n.byteArray,i);a.warnings=n.warnings;try{if(r){y.parseDicomDataSetExplicit(a,n,n.byteArray.length,d)}else{y.parseDicomDataSetImplicit(a,n,n.byteArray.length,d)}}catch(e){var s={exception:e,dataSet:a};throw s}return a}function e(){var e=(0,s.default)(l,d);var t=n(e);return r(e,t)}return e()}}).call(E,k(53)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,p,v){(function(g,i){var a=v(55);var o=v(63);var e=v(41);var m=v(73).ok;o.Z_MIN_WINDOWBITS=8;o.Z_MAX_WINDOWBITS=15;o.Z_DEFAULT_WINDOWBITS=15;o.Z_MIN_CHUNK=64;o.Z_MAX_CHUNK=Infinity;o.Z_DEFAULT_CHUNK=16*1024;o.Z_MIN_MEMLEVEL=1;o.Z_MAX_MEMLEVEL=9;o.Z_DEFAULT_MEMLEVEL=8;o.Z_MIN_LEVEL=-1;o.Z_MAX_LEVEL=9;o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;Object.keys(o).forEach(function(e){if(e.match(/^Z/))p[e]=o[e]});p.codes={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR};Object.keys(p.codes).forEach(function(e){p.codes[p.codes[e]]=e});p.Deflate=s;p.Inflate=f;p.Gzip=u;p.Gunzip=l;p.DeflateRaw=d;p.InflateRaw=h;p.Unzip=c;p.createDeflate=function(e){return new s(e)};p.createInflate=function(e){return new f(e)};p.createDeflateRaw=function(e){return new d(e)};p.createInflateRaw=function(e){return new h(e)};p.createGzip=function(e){return new u(e)};p.createGunzip=function(e){return new l(e)};p.createUnzip=function(e){return new c(e)};p.deflate=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new s(t),e,r)};p.deflateSync=function(e,t){return r(new s(t),e)};p.gzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new u(t),e,r)};p.gzipSync=function(e,t){return r(new u(t),e)};p.deflateRaw=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new d(t),e,r)};p.deflateRawSync=function(e,t){return r(new d(t),e)};p.unzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new c(t),e,r)};p.unzipSync=function(e,t){return r(new c(t),e)};p.inflate=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new f(t),e,r)};p.inflateSync=function(e,t){return r(new f(t),e)};p.gunzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new l(t),e,r)};p.gunzipSync=function(e,t){return r(new l(t),e)};p.inflateRaw=function(e,t,r){if(typeof t==="function"){r=t;t={}}return n(new h(t),e,r)};p.inflateRawSync=function(e,t){return r(new h(t),e)};function n(t,e,r){var n=[];var i=0;t.on("error",s);t.on("end",f);t.end(e);a();function a(){var e;while(null!==(e=t.read())){n.push(e);i+=e.length}t.once("readable",a)}function s(e){t.removeListener("end",f);t.removeListener("readable",a);r(e)}function f(){var e=g.concat(n,i);n=[];r(null,e);t.close()}}function r(e,t){if(typeof t==="string")t=new g(t);if(!g.isBuffer(t))throw new TypeError("Not a string or buffer");var r=o.Z_FINISH;return e._processChunk(t,r)}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e,o.DEFLATE)}function f(e){if(!(this instanceof f))return new f(e);t.call(this,e,o.INFLATE)}function u(e){if(!(this instanceof u))return new u(e);t.call(this,e,o.GZIP)}function l(e){if(!(this instanceof l))return new l(e);t.call(this,e,o.GUNZIP)}function d(e){if(!(this instanceof d))return new d(e);t.call(this,e,o.DEFLATERAW)}function h(e){if(!(this instanceof h))return new h(e);t.call(this,e,o.INFLATERAW)}function c(e){if(!(this instanceof c))return new c(e);t.call(this,e,o.UNZIP)}function t(e,t){this._opts=e=e||{};this._chunkSize=e.chunkSize||p.Z_DEFAULT_CHUNK;a.call(this,e);if(e.flush){if(e.flush!==o.Z_NO_FLUSH&&e.flush!==o.Z_PARTIAL_FLUSH&&e.flush!==o.Z_SYNC_FLUSH&&e.flush!==o.Z_FULL_FLUSH&&e.flush!==o.Z_FINISH&&e.flush!==o.Z_BLOCK){throw new Error("Invalid flush flag: "+e.flush)}}this._flushFlag=e.flush||o.Z_NO_FLUSH;if(e.chunkSize){if(e.chunkSize<p.Z_MIN_CHUNK||e.chunkSize>p.Z_MAX_CHUNK){throw new Error("Invalid chunk size: "+e.chunkSize)}}if(e.windowBits){if(e.windowBits<p.Z_MIN_WINDOWBITS||e.windowBits>p.Z_MAX_WINDOWBITS){throw new Error("Invalid windowBits: "+e.windowBits)}}if(e.level){if(e.level<p.Z_MIN_LEVEL||e.level>p.Z_MAX_LEVEL){throw new Error("Invalid compression level: "+e.level)}}if(e.memLevel){if(e.memLevel<p.Z_MIN_MEMLEVEL||e.memLevel>p.Z_MAX_MEMLEVEL){throw new Error("Invalid memLevel: "+e.memLevel)}}if(e.strategy){if(e.strategy!=p.Z_FILTERED&&e.strategy!=p.Z_HUFFMAN_ONLY&&e.strategy!=p.Z_RLE&&e.strategy!=p.Z_FIXED&&e.strategy!=p.Z_DEFAULT_STRATEGY){throw new Error("Invalid strategy: "+e.strategy)}}if(e.dictionary){if(!g.isBuffer(e.dictionary)){throw new Error("Invalid dictionary: it should be a Buffer instance")}}this._binding=new o.Zlib(t);var n=this;this._hadError=false;this._binding.onerror=function(e,t){n._binding=null;n._hadError=true;var r=new Error(e);r.errno=t;r.code=p.codes[t];n.emit("error",r)};var r=p.Z_DEFAULT_COMPRESSION;if(typeof e.level==="number")r=e.level;var i=p.Z_DEFAULT_STRATEGY;if(typeof e.strategy==="number")i=e.strategy;this._binding.init(e.windowBits||p.Z_DEFAULT_WINDOWBITS,r,e.memLevel||p.Z_DEFAULT_MEMLEVEL,i,e.dictionary);this._buffer=new g(this._chunkSize);this._offset=0;this._closed=false;this._level=r;this._strategy=i;this.once("end",this.close)}e.inherits(t,a);t.prototype.params=function(e,t,r){if(e<p.Z_MIN_LEVEL||e>p.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+e)}if(t!=p.Z_FILTERED&&t!=p.Z_HUFFMAN_ONLY&&t!=p.Z_RLE&&t!=p.Z_FIXED&&t!=p.Z_DEFAULT_STRATEGY){throw new TypeError("Invalid strategy: "+t)}if(this._level!==e||this._strategy!==t){var n=this;this.flush(o.Z_SYNC_FLUSH,function(){n._binding.params(e,t);if(!n._hadError){n._level=e;n._strategy=t;if(r)r()}})}else{i.nextTick(r)}};t.prototype.reset=function(){return this._binding.reset()};t.prototype._flush=function(e){this._transform(new g(0),"",e)};t.prototype.flush=function(e,t){var r=this._writableState;if(typeof e==="function"||e===void 0&&!t){t=e;e=o.Z_FULL_FLUSH}if(r.ended){if(t)i.nextTick(t)}else if(r.ending){if(t)this.once("end",t)}else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else{this._flushFlag=e;this.write(new g(0),"",t)}};t.prototype.close=function(e){if(e)i.nextTick(e);if(this._closed)return;this._closed=true;this._binding.close();var t=this;i.nextTick(function(){t.emit("close")})};t.prototype._transform=function(e,t,r){var n;var i=this._writableState;var a=i.ending||i.ended;var s=a&&(!e||i.length===e.length);if(!e===null&&!g.isBuffer(e))return r(new Error("invalid input"));if(s)n=o.Z_FINISH;else{n=this._flushFlag;if(e.length>=i.length){this._flushFlag=this._opts.flush||o.Z_NO_FLUSH}}var f=this;this._processChunk(e,n,r)};t.prototype._processChunk=function(a,s,f){var o=a&&a.length;var u=this._chunkSize-this._offset;var l=0;var d=this;var h=typeof f==="function";if(!h){var c=[];var p=0;var t;this.on("error",function(e){t=e});do{var e=this._binding.writeSync(s,a,l,o,this._buffer,this._offset,u)}while(!this._hadError&&v(e[0],e[1]));if(this._hadError){throw t}var r=g.concat(c,p);this.close();return r}var n=this._binding.write(s,a,l,o,this._buffer,this._offset,u);n.buffer=a;n.callback=v;function v(e,t){if(d._hadError)return;var r=u-t;m(r>=0,"have should not go down");if(r>0){var n=d._buffer.slice(d._offset,d._offset+r);d._offset+=r;if(h){d.push(n)}else{c.push(n);p+=n.length}}if(t===0||d._offset>=d._chunkSize){u=d._chunkSize;d._offset=0;d._buffer=new g(d._chunkSize)}if(t===0){l+=o-e;o=e;if(!h)return true;var i=d._binding.write(s,a,l,o,d._buffer,d._offset,d._chunkSize);i.callback=v;i.buffer=a;return}if(!h)return false;f()}};e.inherits(s,t);e.inherits(f,t);e.inherits(u,t);e.inherits(l,t);e.inherits(d,t);e.inherits(h,t);e.inherits(c,t)}).call(p,v(0).Buffer,v(3))},function(e,t,r){e.exports=r(56).Transform},function(e,t,r){t=e.exports=r(31);t.Stream=t;t.Readable=t;t.Writable=r(35);t.Duplex=r(4);t.Transform=r(37);t.PassThrough=r(62)},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(21).Buffer;function s(e,t,r){e.copy(t,r)}e.exports=function(){function e(){n(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};e.prototype.unshift=function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};e.prototype.shift=function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t};e.prototype.clear=function e(){this.head=this.tail=null;this.length=0};e.prototype.join=function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n};e.prototype.concat=function e(t){if(this.length===0)return a.alloc(0);if(this.length===1)return this.head.data;var r=a.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){s(n.data,r,i);i+=n.data.length;n=n.next}return r};return e}()},function(e,t,r){var n=Function.prototype.apply;t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function i(e,t){this._id=e;this._clearFn=t}i.prototype.unref=i.prototype.ref=function(){};i.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};r(60);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t,r){(function(e,_){(function(r,n){"use strict";if(r.setImmediate){return}var i=1;var a={};var s=false;var f=r.document;var o;function e(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var n={callback:e,args:t};a[i]=n;o(i);return i++}function u(e){delete a[e]}function l(e){var t=e.callback;var r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r);break}}function d(e){if(s){setTimeout(d,0,e)}else{var t=a[e];if(t){s=true;try{l(t)}finally{u(e);s=false}}}}function t(){o=function(e){_.nextTick(function(){d(e)})}}function h(){if(r.postMessage&&!r.importScripts){var e=true;var t=r.onmessage;r.onmessage=function(){e=false};r.postMessage("","*");r.onmessage=t;return e}}function c(){var t="setImmediate$"+Math.random()+"$";var e=function(e){if(e.source===r&&typeof e.data==="string"&&e.data.indexOf(t)===0){d(+e.data.slice(t.length))}};if(r.addEventListener){r.addEventListener("message",e,false)}else{r.attachEvent("onmessage",e)}o=function(e){r.postMessage(t+e,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(e){var t=e.data;d(t)};o=function(e){t.port2.postMessage(e)}}function v(){var r=f.documentElement;o=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e);t.onreadystatechange=null;r.removeChild(t);t=null};r.appendChild(t)}}function g(){o=function(e){setTimeout(d,0,e)}}var m=Object.getPrototypeOf&&Object.getPrototypeOf(r);m=m&&m.setTimeout?m:r;if({}.toString.call(r.process)==="[object process]"){t()}else if(h()){c()}else if(r.MessageChannel){p()}else if(f&&"onreadystatechange"in f.createElement("script")){v()}else{g()}m.setImmediate=e;m.clearImmediate=u})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,r(2),r(3))},function(t,e,r){(function(r){t.exports=e;function e(e,t){if(i("noDeprecation")){return e}var r=false;function n(){if(!r){if(i("throwDeprecation")){throw new Error(t)}else if(i("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return n}function i(e){try{if(!r.localStorage)return false}catch(e){return false}var t=r.localStorage[e];if(null==t)return false;return String(t).toLowerCase()==="true"}}).call(e,r(2))},function(e,t,r){"use strict";e.exports=a;var n=r(37);var i=r(6);i.inherits=r(7);i.inherits(a,n);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}a.prototype._transform=function(e,t,r){r(null,e)}},function(e,c,a){(function(e,u){var t=a(38);var s=a(64);var l=a(65);var d=a(67);var r=a(70);for(var n in r){c[n]=r[n]}c.NONE=0;c.DEFLATE=1;c.INFLATE=2;c.GZIP=3;c.GUNZIP=4;c.DEFLATERAW=5;c.INFLATERAW=6;c.UNZIP=7;function i(e){if(e<c.DEFLATE||e>c.UNZIP)throw new TypeError("Bad argument");this.mode=e;this.init_done=false;this.write_in_progress=false;this.pending_close=false;this.windowBits=0;this.level=0;this.memLevel=0;this.strategy=0;this.dictionary=null}i.prototype.init=function(e,t,r,n,i){this.windowBits=e;this.level=t;this.memLevel=r;this.strategy=n;if(this.mode===c.GZIP||this.mode===c.GUNZIP)this.windowBits+=16;if(this.mode===c.UNZIP)this.windowBits+=32;if(this.mode===c.DEFLATERAW||this.mode===c.INFLATERAW)this.windowBits=-this.windowBits;this.strm=new s;switch(this.mode){case c.DEFLATE:case c.GZIP:case c.DEFLATERAW:var a=l.deflateInit2(this.strm,this.level,c.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case c.INFLATE:case c.GUNZIP:case c.INFLATERAW:case c.UNZIP:var a=d.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(a!==c.Z_OK){this._error(a);return}this.write_in_progress=false;this.init_done=true};i.prototype.params=function(){throw new Error("deflateParams Not supported")};i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===c.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};i.prototype.write=function(t,r,n,i,a,s,f){this._writeCheck();this.write_in_progress=true;var o=this;e.nextTick(function(){o.write_in_progress=false;var e=o._write(t,r,n,i,a,s,f);o.callback(e[0],e[1]);if(o.pending_close)o.close()});return this};function h(e,t){for(var r=0;r<e.length;r++){this[t+r]=e[r]}}i.prototype.writeSync=function(e,t,r,n,i,a,s){this._writeCheck();return this._write(e,t,r,n,i,a,s)};i.prototype._write=function(e,t,r,n,i,a,s){this.write_in_progress=true;if(e!==c.Z_NO_FLUSH&&e!==c.Z_PARTIAL_FLUSH&&e!==c.Z_SYNC_FLUSH&&e!==c.Z_FULL_FLUSH&&e!==c.Z_FINISH&&e!==c.Z_BLOCK){throw new Error("Invalid flush value")}if(t==null){t=new u(0);n=0;r=0}if(i._set)i.set=i._set;else i.set=h;var f=this.strm;f.avail_in=n;f.input=t;f.next_in=r;f.avail_out=s;f.output=i;f.next_out=a;switch(this.mode){case c.DEFLATE:case c.GZIP:case c.DEFLATERAW:var o=l.deflate(f,e);break;case c.UNZIP:case c.INFLATE:case c.GUNZIP:case c.INFLATERAW:var o=d.inflate(f,e);break;default:throw new Error("Unknown mode "+this.mode)}if(o!==c.Z_STREAM_END&&o!==c.Z_OK){this._error(o)}this.write_in_progress=false;return[f.avail_in,f.avail_out]};i.prototype.close=function(){if(this.write_in_progress){this.pending_close=true;return}this.pending_close=false;if(this.mode===c.DEFLATE||this.mode===c.GZIP||this.mode===c.DEFLATERAW){l.deflateEnd(this.strm)}else{d.inflateEnd(this.strm)}this.mode=c.NONE};i.prototype.reset=function(){switch(this.mode){case c.DEFLATE:case c.DEFLATERAW:var e=l.deflateReset(this.strm);break;case c.INFLATE:case c.INFLATERAW:var e=d.inflateReset(this.strm);break}if(e!==c.Z_OK){this._error(e)}};i.prototype._error=function(e){this.onerror(t[e]+": "+this.strm.msg,e);this.write_in_progress=false;if(this.pending_close)this.close()};c.Zlib=i}).call(c,a(3),a(0).Buffer)},function(e,t,r){"use strict";function n(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}e.exports=n},function(e,t,r){"use strict";var d=r(15);var u=r(66);var h=r(39);var l=r(40);var n=r(38);var c=0;var p=1;var v=3;var g=4;var m=5;var _=0;var b=1;var y=-2;var i=-3;var w=-5;var o=-1;var a=1;var E=2;var k=3;var x=4;var s=0;var f=2;var S=8;var A=9;var P=15;var O=8;var T=29;var R=256;var I=R+1+T;var D=30;var L=19;var B=2*I+1;var M=15;var U=3;var F=258;var j=F+U+1;var z=32;var N=42;var C=69;var Z=73;var q=91;var Y=103;var W=113;var H=666;var G=1;var V=2;var J=3;var K=4;var X=3;function $(e,t){e.msg=n[t];return t}function Q(e){return(e<<1)-(e>4?9:0)}function ee(e){var t=e.length;while(--t>=0){e[t]=0}}function te(e){var t=e.state;var r=t.pending;if(r>e.avail_out){r=e.avail_out}if(r===0){return}d.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out);e.next_out+=r;t.pending_out+=r;e.total_out+=r;e.avail_out-=r;t.pending-=r;if(t.pending===0){t.pending_out=0}}function re(e,t){u._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t);e.block_start=e.strstart;te(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255;e.pending_buf[e.pending++]=t&255}function ae(e,t,r,n){var i=e.avail_in;if(i>n){i=n}if(i===0){return 0}e.avail_in-=i;d.arraySet(t,e.input,e.next_in,i,r);if(e.state.wrap===1){e.adler=h(e.adler,t,i,r)}else if(e.state.wrap===2){e.adler=l(e.adler,t,i,r)}e.next_in+=i;e.total_in+=i;return i}function se(e,t){var r=e.max_chain_length;var n=e.strstart;var i;var a;var s=e.prev_length;var f=e.nice_match;var o=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0;var u=e.window;var l=e.w_mask;var d=e.prev;var h=e.strstart+F;var c=u[n+s-1];var p=u[n+s];if(e.prev_length>=e.good_match){r>>=2}if(f>e.lookahead){f=e.lookahead}do{i=t;if(u[i+s]!==p||u[i+s-1]!==c||u[i]!==u[n]||u[++i]!==u[n+1]){continue}n+=2;i++;do{}while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<h);a=F-(h-n);n=h-F;if(a>s){e.match_start=t;s=a;if(a>=f){break}c=u[n+s-1];p=u[n+s]}}while((t=d[t&l])>o&&--r!==0);if(s<=e.lookahead){return s}return e.lookahead}function fe(e){var t=e.w_size;var r,n,i,a,s;do{a=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-j)){d.arraySet(e.window,e.window,t,t,0);e.match_start-=t;e.strstart-=t;e.block_start-=t;n=e.hash_size;r=n;do{i=e.head[--r];e.head[r]=i>=t?i-t:0}while(--n);n=t;r=n;do{i=e.prev[--r];e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(e.strm.avail_in===0){break}n=ae(e.strm,e.window,e.strstart+e.lookahead,a);e.lookahead+=n;if(e.lookahead+e.insert>=U){s=e.strstart-e.insert;e.ins_h=e.window[s];e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;while(e.insert){e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+U-1])&e.hash_mask;e.prev[s&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=s;s++;e.insert--;if(e.lookahead+e.insert<U){break}}}}while(e.lookahead<j&&e.strm.avail_in!==0)}function oe(e,t){var r=65535;if(r>e.pending_buf_size-5){r=e.pending_buf_size-5}for(;;){if(e.lookahead<=1){fe(e);if(e.lookahead===0&&t===c){return G}if(e.lookahead===0){break}}e.strstart+=e.lookahead;e.lookahead=0;var n=e.block_start+r;if(e.strstart===0||e.strstart>=n){e.lookahead=e.strstart-n;e.strstart=n;re(e,false);if(e.strm.avail_out===0){return G}}if(e.strstart-e.block_start>=e.w_size-j){re(e,false);if(e.strm.avail_out===0){return G}}}e.insert=0;if(t===g){re(e,true);if(e.strm.avail_out===0){return J}return K}if(e.strstart>e.block_start){re(e,false);if(e.strm.avail_out===0){return G}}return G}function ue(e,t){var r;var n;for(;;){if(e.lookahead<j){fe(e);if(e.lookahead<j&&t===c){return G}if(e.lookahead===0){break}}r=0;if(e.lookahead>=U){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}if(r!==0&&e.strstart-r<=e.w_size-j){e.match_length=se(e,r)}if(e.match_length>=U){n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-U);e.lookahead-=e.match_length;if(e.match_length<=e.max_lazy_match&&e.lookahead>=U){e.match_length--;do{e.strstart++;e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}while(--e.match_length!==0);e.strstart++}else{e.strstart+=e.match_length;e.match_length=0;e.ins_h=e.window[e.strstart];e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}}else{n=u._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(n){re(e,false);if(e.strm.avail_out===0){return G}}}e.insert=e.strstart<U-1?e.strstart:U-1;if(t===g){re(e,true);if(e.strm.avail_out===0){return J}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return G}}return V}function le(e,t){var r;var n;var i;for(;;){if(e.lookahead<j){fe(e);if(e.lookahead<j&&t===c){return G}if(e.lookahead===0){break}}r=0;if(e.lookahead>=U){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}e.prev_length=e.match_length;e.prev_match=e.match_start;e.match_length=U-1;if(r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-j){e.match_length=se(e,r);if(e.match_length<=5&&(e.strategy===a||e.match_length===U&&e.strstart-e.match_start>4096)){e.match_length=U-1}}if(e.prev_length>=U&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-U;n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U);e.lookahead-=e.prev_length-1;e.prev_length-=2;do{if(++e.strstart<=i){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}}while(--e.prev_length!==0);e.match_available=0;e.match_length=U-1;e.strstart++;if(n){re(e,false);if(e.strm.avail_out===0){return G}}}else if(e.match_available){n=u._tr_tally(e,0,e.window[e.strstart-1]);if(n){re(e,false)}e.strstart++;e.lookahead--;if(e.strm.avail_out===0){return G}}else{e.match_available=1;e.strstart++;e.lookahead--}}if(e.match_available){n=u._tr_tally(e,0,e.window[e.strstart-1]);e.match_available=0}e.insert=e.strstart<U-1?e.strstart:U-1;if(t===g){re(e,true);if(e.strm.avail_out===0){return J}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return G}}return V}function de(e,t){var r;var n;var i,a;var s=e.window;for(;;){if(e.lookahead<=F){fe(e);if(e.lookahead<=F&&t===c){return G}if(e.lookahead===0){break}}e.match_length=0;if(e.lookahead>=U&&e.strstart>0){i=e.strstart-1;n=s[i];if(n===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+F;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=F-(a-i);if(e.match_length>e.lookahead){e.match_length=e.lookahead}}}if(e.match_length>=U){r=u._tr_tally(e,1,e.match_length-U);e.lookahead-=e.match_length;e.strstart+=e.match_length;e.match_length=0}else{r=u._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(r){re(e,false);if(e.strm.avail_out===0){return G}}}e.insert=0;if(t===g){re(e,true);if(e.strm.avail_out===0){return J}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return G}}return V}function he(e,t){var r;for(;;){if(e.lookahead===0){fe(e);if(e.lookahead===0){if(t===c){return G}break}}e.match_length=0;r=u._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++;if(r){re(e,false);if(e.strm.avail_out===0){return G}}}e.insert=0;if(t===g){re(e,true);if(e.strm.avail_out===0){return J}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return G}}return V}function ce(e,t,r,n,i){this.good_length=e;this.max_lazy=t;this.nice_length=r;this.max_chain=n;this.func=i}var pe;pe=[new ce(0,0,0,0,oe),new ce(4,4,8,4,ue),new ce(4,5,16,8,ue),new ce(4,6,32,32,ue),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)];function ve(e){e.window_size=2*e.w_size;ee(e.head);e.max_lazy_match=pe[e.level].max_lazy;e.good_match=pe[e.level].good_length;e.nice_match=pe[e.level].nice_length;e.max_chain_length=pe[e.level].max_chain;e.strstart=0;e.block_start=0;e.lookahead=0;e.insert=0;e.match_length=e.prev_length=U-1;e.match_available=0;e.ins_h=0}function ge(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=S;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new d.Buf16(B*2);this.dyn_dtree=new d.Buf16((2*D+1)*2);this.bl_tree=new d.Buf16((2*L+1)*2);ee(this.dyn_ltree);ee(this.dyn_dtree);ee(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new d.Buf16(M+1);this.heap=new d.Buf16(2*I+1);ee(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new d.Buf16(2*I+1);ee(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function me(e){var t;if(!e||!e.state){return $(e,y)}e.total_in=e.total_out=0;e.data_type=f;t=e.state;t.pending=0;t.pending_out=0;if(t.wrap<0){t.wrap=-t.wrap}t.status=t.wrap?N:W;e.adler=t.wrap===2?0:1;t.last_flush=c;u._tr_init(t);return _}function _e(e){var t=me(e);if(t===_){ve(e.state)}return t}function be(e,t){if(!e||!e.state){return y}if(e.state.wrap!==2){return y}e.state.gzhead=t;return _}function ye(e,t,r,n,i,a){if(!e){return y}var s=1;if(t===o){t=6}if(n<0){s=0;n=-n}else if(n>15){s=2;n-=16}if(i<1||i>A||r!==S||n<8||n>15||t<0||t>9||a<0||a>x){return $(e,y)}if(n===8){n=9}var f=new ge;e.state=f;f.strm=e;f.wrap=s;f.gzhead=null;f.w_bits=n;f.w_size=1<<f.w_bits;f.w_mask=f.w_size-1;f.hash_bits=i+7;f.hash_size=1<<f.hash_bits;f.hash_mask=f.hash_size-1;f.hash_shift=~~((f.hash_bits+U-1)/U);f.window=new d.Buf8(f.w_size*2);f.head=new d.Buf16(f.hash_size);f.prev=new d.Buf16(f.w_size);f.lit_bufsize=1<<i+6;f.pending_buf_size=f.lit_bufsize*4;f.pending_buf=new d.Buf8(f.pending_buf_size);f.d_buf=1*f.lit_bufsize;f.l_buf=(1+2)*f.lit_bufsize;f.level=t;f.strategy=a;f.method=r;return _e(e)}function we(e,t){return ye(e,t,S,P,O,s)}function Ee(e,t){var r,n;var i,a;if(!e||!e.state||t>m||t<0){return e?$(e,y):y}n=e.state;if(!e.output||!e.input&&e.avail_in!==0||n.status===H&&t!==g){return $(e,e.avail_out===0?w:y)}n.strm=e;r=n.last_flush;n.last_flush=t;if(n.status===N){if(n.wrap===2){e.adler=0;ne(n,31);ne(n,139);ne(n,8);if(!n.gzhead){ne(n,0);ne(n,0);ne(n,0);ne(n,0);ne(n,0);ne(n,n.level===9?2:n.strategy>=E||n.level<2?4:0);ne(n,X);n.status=W}else{ne(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(!n.gzhead.extra?0:4)+(!n.gzhead.name?0:8)+(!n.gzhead.comment?0:16));ne(n,n.gzhead.time&255);ne(n,n.gzhead.time>>8&255);ne(n,n.gzhead.time>>16&255);ne(n,n.gzhead.time>>24&255);ne(n,n.level===9?2:n.strategy>=E||n.level<2?4:0);ne(n,n.gzhead.os&255);if(n.gzhead.extra&&n.gzhead.extra.length){ne(n,n.gzhead.extra.length&255);ne(n,n.gzhead.extra.length>>8&255)}if(n.gzhead.hcrc){e.adler=l(e.adler,n.pending_buf,n.pending,0)}n.gzindex=0;n.status=C}}else{var s=S+(n.w_bits-8<<4)<<8;var f=-1;if(n.strategy>=E||n.level<2){f=0}else if(n.level<6){f=1}else if(n.level===6){f=2}else{f=3}s|=f<<6;if(n.strstart!==0){s|=z}s+=31-s%31;n.status=W;ie(n,s);if(n.strstart!==0){ie(n,e.adler>>>16);ie(n,e.adler&65535)}e.adler=1}}if(n.status===C){if(n.gzhead.extra){i=n.pending;while(n.gzindex<(n.gzhead.extra.length&65535)){if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}te(e);i=n.pending;if(n.pending===n.pending_buf_size){break}}ne(n,n.gzhead.extra[n.gzindex]&255);n.gzindex++}if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}if(n.gzindex===n.gzhead.extra.length){n.gzindex=0;n.status=Z}}else{n.status=Z}}if(n.status===Z){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}te(e);i=n.pending;if(n.pending===n.pending_buf_size){a=1;break}}if(n.gzindex<n.gzhead.name.length){a=n.gzhead.name.charCodeAt(n.gzindex++)&255}else{a=0}ne(n,a)}while(a!==0);if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}if(a===0){n.gzindex=0;n.status=q}}else{n.status=q}}if(n.status===q){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}te(e);i=n.pending;if(n.pending===n.pending_buf_size){a=1;break}}if(n.gzindex<n.gzhead.comment.length){a=n.gzhead.comment.charCodeAt(n.gzindex++)&255}else{a=0}ne(n,a)}while(a!==0);if(n.gzhead.hcrc&&n.pending>i){e.adler=l(e.adler,n.pending_buf,n.pending-i,i)}if(a===0){n.status=Y}}else{n.status=Y}}if(n.status===Y){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size){te(e)}if(n.pending+2<=n.pending_buf_size){ne(n,e.adler&255);ne(n,e.adler>>8&255);e.adler=0;n.status=W}}else{n.status=W}}if(n.pending!==0){te(e);if(e.avail_out===0){n.last_flush=-1;return _}}else if(e.avail_in===0&&Q(t)<=Q(r)&&t!==g){return $(e,w)}if(n.status===H&&e.avail_in!==0){return $(e,w)}if(e.avail_in!==0||n.lookahead!==0||t!==c&&n.status!==H){var o=n.strategy===E?he(n,t):n.strategy===k?de(n,t):pe[n.level].func(n,t);if(o===J||o===K){n.status=H}if(o===G||o===J){if(e.avail_out===0){n.last_flush=-1}return _}if(o===V){if(t===p){u._tr_align(n)}else if(t!==m){u._tr_stored_block(n,0,0,false);if(t===v){ee(n.head);if(n.lookahead===0){n.strstart=0;n.block_start=0;n.insert=0}}}te(e);if(e.avail_out===0){n.last_flush=-1;return _}}}if(t!==g){return _}if(n.wrap<=0){return b}if(n.wrap===2){ne(n,e.adler&255);ne(n,e.adler>>8&255);ne(n,e.adler>>16&255);ne(n,e.adler>>24&255);ne(n,e.total_in&255);ne(n,e.total_in>>8&255);ne(n,e.total_in>>16&255);ne(n,e.total_in>>24&255)}else{ie(n,e.adler>>>16);ie(n,e.adler&65535)}te(e);if(n.wrap>0){n.wrap=-n.wrap}return n.pending!==0?_:b}function ke(e){var t;if(!e||!e.state){return y}t=e.state.status;if(t!==N&&t!==C&&t!==Z&&t!==q&&t!==Y&&t!==W&&t!==H){return $(e,y)}e.state=null;return t===W?$(e,i):_}function xe(e,t){var r=t.length;var n;var i,a;var s;var f;var o;var u;var l;if(!e||!e.state){return y}n=e.state;s=n.wrap;if(s===2||s===1&&n.status!==N||n.lookahead){return y}if(s===1){e.adler=h(e.adler,t,r,0)}n.wrap=0;if(r>=n.w_size){if(s===0){ee(n.head);n.strstart=0;n.block_start=0;n.insert=0}l=new d.Buf8(n.w_size);d.arraySet(l,t,r-n.w_size,n.w_size,0);t=l;r=n.w_size}f=e.avail_in;o=e.next_in;u=e.input;e.avail_in=r;e.next_in=0;e.input=t;fe(n);while(n.lookahead>=U){i=n.strstart;a=n.lookahead-(U-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+U-1])&n.hash_mask;n.prev[i&n.w_mask]=n.head[n.ins_h];n.head[n.ins_h]=i;i++}while(--a);n.strstart=i;n.lookahead=U-1;fe(n)}n.strstart+=n.lookahead;n.block_start=n.strstart;n.insert=n.lookahead;n.lookahead=0;n.match_length=n.prev_length=U-1;n.match_available=0;e.next_in=o;e.input=u;e.avail_in=f;n.wrap=s;return _}t.deflateInit=we;t.deflateInit2=ye;t.deflateReset=_e;t.deflateResetKeep=me;t.deflateSetHeader=be;t.deflate=Ee;t.deflateEnd=ke;t.deflateSetDictionary=xe;t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";var i=r(15);var f=4;var n=0;var a=1;var o=2;function s(e){var t=e.length;while(--t>=0){e[t]=0}}var u=0;var l=1;var d=2;var h=3;var c=258;var p=29;var v=256;var g=v+1+p;var m=30;var _=19;var b=2*g+1;var y=15;var w=16;var E=7;var k=256;var x=16;var S=17;var A=18;var P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var I=512;var D=new Array((g+2)*2);s(D);var L=new Array(m*2);s(L);var B=new Array(I);s(B);var M=new Array(c-h+1);s(M);var U=new Array(p);s(U);var F=new Array(m);s(F);function j(e,t,r,n,i){this.static_tree=e;this.extra_bits=t;this.extra_base=r;this.elems=n;this.max_length=i;this.has_stree=e&&e.length}var z;var N;var C;function Z(e,t){this.dyn_tree=e;this.max_code=0;this.stat_desc=t}function q(e){return e<256?B[e]:B[256+(e>>>7)]}function Y(e,t){e.pending_buf[e.pending++]=t&255;e.pending_buf[e.pending++]=t>>>8&255}function W(e,t,r){if(e.bi_valid>w-r){e.bi_buf|=t<<e.bi_valid&65535;Y(e,e.bi_buf);e.bi_buf=t>>w-e.bi_valid;e.bi_valid+=r-w}else{e.bi_buf|=t<<e.bi_valid&65535;e.bi_valid+=r}}function H(e,t,r){W(e,r[t*2],r[t*2+1])}function G(e,t){var r=0;do{r|=e&1;e>>>=1;r<<=1}while(--t>0);return r>>>1}function V(e){if(e.bi_valid===16){Y(e,e.bi_buf);e.bi_buf=0;e.bi_valid=0}else if(e.bi_valid>=8){e.pending_buf[e.pending++]=e.bi_buf&255;e.bi_buf>>=8;e.bi_valid-=8}}function J(e,t){var r=t.dyn_tree;var n=t.max_code;var i=t.stat_desc.static_tree;var a=t.stat_desc.has_stree;var s=t.stat_desc.extra_bits;var f=t.stat_desc.extra_base;var o=t.stat_desc.max_length;var u;var l,d;var h;var c;var p;var v=0;for(h=0;h<=y;h++){e.bl_count[h]=0}r[e.heap[e.heap_max]*2+1]=0;for(u=e.heap_max+1;u<b;u++){l=e.heap[u];h=r[r[l*2+1]*2+1]+1;if(h>o){h=o;v++}r[l*2+1]=h;if(l>n){continue}e.bl_count[h]++;c=0;if(l>=f){c=s[l-f]}p=r[l*2];e.opt_len+=p*(h+c);if(a){e.static_len+=p*(i[l*2+1]+c)}}if(v===0){return}do{h=o-1;while(e.bl_count[h]===0){h--}e.bl_count[h]--;e.bl_count[h+1]+=2;e.bl_count[o]--;v-=2}while(v>0);for(h=o;h!==0;h--){l=e.bl_count[h];while(l!==0){d=e.heap[--u];if(d>n){continue}if(r[d*2+1]!==h){e.opt_len+=(h-r[d*2+1])*r[d*2];r[d*2+1]=h}l--}}}function K(e,t,r){var n=new Array(y+1);var i=0;var a;var s;for(a=1;a<=y;a++){n[a]=i=i+r[a-1]<<1}for(s=0;s<=t;s++){var f=e[s*2+1];if(f===0){continue}e[s*2]=G(n[f]++,f)}}function X(){var e;var t;var r;var n;var i;var a=new Array(y+1);r=0;for(n=0;n<p-1;n++){U[n]=r;for(e=0;e<1<<P[n];e++){M[r++]=n}}M[r-1]=n;i=0;for(n=0;n<16;n++){F[n]=i;for(e=0;e<1<<O[n];e++){B[i++]=n}}i>>=7;for(;n<m;n++){F[n]=i<<7;for(e=0;e<1<<O[n]-7;e++){B[256+i++]=n}}for(t=0;t<=y;t++){a[t]=0}e=0;while(e<=143){D[e*2+1]=8;e++;a[8]++}while(e<=255){D[e*2+1]=9;e++;a[9]++}while(e<=279){D[e*2+1]=7;e++;a[7]++}while(e<=287){D[e*2+1]=8;e++;a[8]++}K(D,g+1,a);for(e=0;e<m;e++){L[e*2+1]=5;L[e*2]=G(e,5)}z=new j(D,P,v+1,g,y);N=new j(L,O,0,m,y);C=new j(new Array(0),T,0,_,E)}function $(e){var t;for(t=0;t<g;t++){e.dyn_ltree[t*2]=0}for(t=0;t<m;t++){e.dyn_dtree[t*2]=0}for(t=0;t<_;t++){e.bl_tree[t*2]=0}e.dyn_ltree[k*2]=1;e.opt_len=e.static_len=0;e.last_lit=e.matches=0}function Q(e){if(e.bi_valid>8){Y(e,e.bi_buf)}else if(e.bi_valid>0){e.pending_buf[e.pending++]=e.bi_buf}e.bi_buf=0;e.bi_valid=0}function ee(e,t,r,n){Q(e);if(n){Y(e,r);Y(e,~r)}i.arraySet(e.pending_buf,e.window,t,r,e.pending);e.pending+=r}function te(e,t,r,n){var i=t*2;var a=r*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function re(e,t,r){var n=e.heap[r];var i=r<<1;while(i<=e.heap_len){if(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)){i++}if(te(t,n,e.heap[i],e.depth)){break}e.heap[r]=e.heap[i];r=i;i<<=1}e.heap[r]=n}function ne(e,t,r){var n;var i;var a=0;var s;var f;if(e.last_lit!==0){do{n=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1];i=e.pending_buf[e.l_buf+a];a++;if(n===0){H(e,i,t)}else{s=M[i];H(e,s+v+1,t);f=P[s];if(f!==0){i-=U[s];W(e,i,f)}n--;s=q(n);H(e,s,r);f=O[s];if(f!==0){n-=F[s];W(e,n,f)}}}while(a<e.last_lit)}H(e,k,t)}function ie(e,t){var r=t.dyn_tree;var n=t.stat_desc.static_tree;var i=t.stat_desc.has_stree;var a=t.stat_desc.elems;var s,f;var o=-1;var u;e.heap_len=0;e.heap_max=b;for(s=0;s<a;s++){if(r[s*2]!==0){e.heap[++e.heap_len]=o=s;e.depth[s]=0}else{r[s*2+1]=0}}while(e.heap_len<2){u=e.heap[++e.heap_len]=o<2?++o:0;r[u*2]=1;e.depth[u]=0;e.opt_len--;if(i){e.static_len-=n[u*2+1]}}t.max_code=o;for(s=e.heap_len>>1;s>=1;s--){re(e,r,s)}u=a;do{s=e.heap[1];e.heap[1]=e.heap[e.heap_len--];re(e,r,1);f=e.heap[1];e.heap[--e.heap_max]=s;e.heap[--e.heap_max]=f;r[u*2]=r[s*2]+r[f*2];e.depth[u]=(e.depth[s]>=e.depth[f]?e.depth[s]:e.depth[f])+1;r[s*2+1]=r[f*2+1]=u;e.heap[1]=u++;re(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1];J(e,t);K(r,o,e.bl_count)}function ae(e,t,r){var n;var i=-1;var a;var s=t[0*2+1];var f=0;var o=7;var u=4;if(s===0){o=138;u=3}t[(r+1)*2+1]=65535;for(n=0;n<=r;n++){a=s;s=t[(n+1)*2+1];if(++f<o&&a===s){continue}else if(f<u){e.bl_tree[a*2]+=f}else if(a!==0){if(a!==i){e.bl_tree[a*2]++}e.bl_tree[x*2]++}else if(f<=10){e.bl_tree[S*2]++}else{e.bl_tree[A*2]++}f=0;i=a;if(s===0){o=138;u=3}else if(a===s){o=6;u=3}else{o=7;u=4}}}function se(e,t,r){var n;var i=-1;var a;var s=t[0*2+1];var f=0;var o=7;var u=4;if(s===0){o=138;u=3}for(n=0;n<=r;n++){a=s;s=t[(n+1)*2+1];if(++f<o&&a===s){continue}else if(f<u){do{H(e,a,e.bl_tree)}while(--f!==0)}else if(a!==0){if(a!==i){H(e,a,e.bl_tree);f--}H(e,x,e.bl_tree);W(e,f-3,2)}else if(f<=10){H(e,S,e.bl_tree);W(e,f-3,3)}else{H(e,A,e.bl_tree);W(e,f-11,7)}f=0;i=a;if(s===0){o=138;u=3}else if(a===s){o=6;u=3}else{o=7;u=4}}}function fe(e){var t;ae(e,e.dyn_ltree,e.l_desc.max_code);ae(e,e.dyn_dtree,e.d_desc.max_code);ie(e,e.bl_desc);for(t=_-1;t>=3;t--){if(e.bl_tree[R[t]*2+1]!==0){break}}e.opt_len+=3*(t+1)+5+5+4;return t}function oe(e,t,r,n){var i;W(e,t-257,5);W(e,r-1,5);W(e,n-4,4);for(i=0;i<n;i++){W(e,e.bl_tree[R[i]*2+1],3)}se(e,e.dyn_ltree,t-1);se(e,e.dyn_dtree,r-1)}function ue(e){var t=4093624447;var r;for(r=0;r<=31;r++,t>>>=1){if(t&1&&e.dyn_ltree[r*2]!==0){return n}}if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0){return a}for(r=32;r<v;r++){if(e.dyn_ltree[r*2]!==0){return a}}return n}var le=false;function de(e){if(!le){X();le=true}e.l_desc=new Z(e.dyn_ltree,z);e.d_desc=new Z(e.dyn_dtree,N);e.bl_desc=new Z(e.bl_tree,C);e.bi_buf=0;e.bi_valid=0;$(e)}function he(e,t,r,n){W(e,(u<<1)+(n?1:0),3);ee(e,t,r,true)}function ce(e){W(e,l<<1,3);H(e,k,D);V(e)}function pe(e,t,r,n){var i,a;var s=0;if(e.level>0){if(e.strm.data_type===o){e.strm.data_type=ue(e)}ie(e,e.l_desc);ie(e,e.d_desc);s=fe(e);i=e.opt_len+3+7>>>3;a=e.static_len+3+7>>>3;if(a<=i){i=a}}else{i=a=r+5}if(r+4<=i&&t!==-1){he(e,t,r,n)}else if(e.strategy===f||a===i){W(e,(l<<1)+(n?1:0),3);ne(e,D,L)}else{W(e,(d<<1)+(n?1:0),3);oe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1);ne(e,e.dyn_ltree,e.dyn_dtree)}$(e);if(n){Q(e)}}function ve(e,t,r){e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255;e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255;e.pending_buf[e.l_buf+e.last_lit]=r&255;e.last_lit++;if(t===0){e.dyn_ltree[r*2]++}else{e.matches++;t--;e.dyn_ltree[(M[r]+v+1)*2]++;e.dyn_dtree[q(t)*2]++}return e.last_lit===e.lit_bufsize-1}t._tr_init=de;t._tr_stored_block=he;t._tr_flush_block=pe;t._tr_tally=ve;t._tr_align=ce},function(e,t,r){"use strict";var T=r(15);var R=r(39);var I=r(40);var D=r(68);var L=r(69);var B=0;var M=1;var U=2;var F=4;var j=5;var z=6;var N=0;var C=1;var Z=2;var q=-2;var Y=-3;var W=-4;var H=-5;var G=8;var V=1;var J=2;var K=3;var X=4;var $=5;var Q=6;var ee=7;var te=8;var re=9;var ne=10;var ie=11;var ae=12;var se=13;var fe=14;var oe=15;var ue=16;var le=17;var de=18;var he=19;var ce=20;var pe=21;var ve=22;var ge=23;var me=24;var _e=25;var be=26;var ye=27;var we=28;var Ee=29;var ke=30;var xe=31;var Se=32;var n=852;var i=592;var a=15;var s=a;function Ae(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function f(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new T.Buf16(320);this.work=new T.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function o(e){var t;if(!e||!e.state){return q}t=e.state;e.total_in=e.total_out=t.total=0;e.msg="";if(t.wrap){e.adler=t.wrap&1}t.mode=V;t.last=0;t.havedict=0;t.dmax=32768;t.head=null;t.hold=0;t.bits=0;t.lencode=t.lendyn=new T.Buf32(n);t.distcode=t.distdyn=new T.Buf32(i);t.sane=1;t.back=-1;return N}function u(e){var t;if(!e||!e.state){return q}t=e.state;t.wsize=0;t.whave=0;t.wnext=0;return o(e)}function l(e,t){var r;var n;if(!e||!e.state){return q}n=e.state;if(t<0){r=0;t=-t}else{r=(t>>4)+1;if(t<48){t&=15}}if(t&&(t<8||t>15)){return q}if(n.window!==null&&n.wbits!==t){n.window=null}n.wrap=r;n.wbits=t;return u(e)}function d(e,t){var r;var n;if(!e){return q}n=new f;e.state=n;n.window=null;r=l(e,t);if(r!==N){e.state=null}return r}function h(e){return d(e,s)}var c=true;var p,v;function Pe(e){if(c){var t;p=new T.Buf32(512);v=new T.Buf32(32);t=0;while(t<144){e.lens[t++]=8}while(t<256){e.lens[t++]=9}while(t<280){e.lens[t++]=7}while(t<288){e.lens[t++]=8}L(M,e.lens,0,288,p,0,e.work,{bits:9});t=0;while(t<32){e.lens[t++]=5}L(U,e.lens,0,32,v,0,e.work,{bits:5});c=false}e.lencode=p;e.lenbits=9;e.distcode=v;e.distbits=5}function Oe(e,t,r,n){var i;var a=e.state;if(a.window===null){a.wsize=1<<a.wbits;a.wnext=0;a.whave=0;a.window=new T.Buf8(a.wsize)}if(n>=a.wsize){T.arraySet(a.window,t,r-a.wsize,a.wsize,0);a.wnext=0;a.whave=a.wsize}else{i=a.wsize-a.wnext;if(i>n){i=n}T.arraySet(a.window,t,r-n,i,a.wnext);n-=i;if(n){T.arraySet(a.window,t,r-n,n,0);a.wnext=n;a.whave=a.wsize}else{a.wnext+=i;if(a.wnext===a.wsize){a.wnext=0}if(a.whave<a.wsize){a.whave+=i}}}return 0}function g(e,t){var r;var n,i;var a;var s;var f,o;var u;var l;var d,h;var c;var p;var v;var g=0;var m,_,b;var y,w,E;var k;var x;var S=new T.Buf8(4);var A;var P;var O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0){return q}r=e.state;if(r.mode===ae){r.mode=se}s=e.next_out;i=e.output;o=e.avail_out;a=e.next_in;n=e.input;f=e.avail_in;u=r.hold;l=r.bits;d=f;h=o;x=N;e:for(;;){switch(r.mode){case V:if(r.wrap===0){r.mode=se;break}while(l<16){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(r.wrap&2&&u===35615){r.check=0;S[0]=u&255;S[1]=u>>>8&255;r.check=I(r.check,S,2,0);u=0;l=0;r.mode=J;break}r.flags=0;if(r.head){r.head.done=false}if(!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check";r.mode=ke;break}if((u&15)!==G){e.msg="unknown compression method";r.mode=ke;break}u>>>=4;l-=4;k=(u&15)+8;if(r.wbits===0){r.wbits=k}else if(k>r.wbits){e.msg="invalid window size";r.mode=ke;break}r.dmax=1<<k;e.adler=r.check=1;r.mode=u&512?ne:ae;u=0;l=0;break;case J:while(l<16){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.flags=u;if((r.flags&255)!==G){e.msg="unknown compression method";r.mode=ke;break}if(r.flags&57344){e.msg="unknown header flags set";r.mode=ke;break}if(r.head){r.head.text=u>>8&1}if(r.flags&512){S[0]=u&255;S[1]=u>>>8&255;r.check=I(r.check,S,2,0)}u=0;l=0;r.mode=K;case K:while(l<32){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(r.head){r.head.time=u}if(r.flags&512){S[0]=u&255;S[1]=u>>>8&255;S[2]=u>>>16&255;S[3]=u>>>24&255;r.check=I(r.check,S,4,0)}u=0;l=0;r.mode=X;case X:while(l<16){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(r.head){r.head.xflags=u&255;r.head.os=u>>8}if(r.flags&512){S[0]=u&255;S[1]=u>>>8&255;r.check=I(r.check,S,2,0)}u=0;l=0;r.mode=$;case $:if(r.flags&1024){while(l<16){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.length=u;if(r.head){r.head.extra_len=u}if(r.flags&512){S[0]=u&255;S[1]=u>>>8&255;r.check=I(r.check,S,2,0)}u=0;l=0}else if(r.head){r.head.extra=null}r.mode=Q;case Q:if(r.flags&1024){c=r.length;if(c>f){c=f}if(c){if(r.head){k=r.head.extra_len-r.length;if(!r.head.extra){r.head.extra=new Array(r.head.extra_len)}T.arraySet(r.head.extra,n,a,c,k)}if(r.flags&512){r.check=I(r.check,n,c,a)}f-=c;a+=c;r.length-=c}if(r.length){break e}}r.length=0;r.mode=ee;case ee:if(r.flags&2048){if(f===0){break e}c=0;do{k=n[a+c++];if(r.head&&k&&r.length<65536){r.head.name+=String.fromCharCode(k)}}while(k&&c<f);if(r.flags&512){r.check=I(r.check,n,c,a)}f-=c;a+=c;if(k){break e}}else if(r.head){r.head.name=null}r.length=0;r.mode=te;case te:if(r.flags&4096){if(f===0){break e}c=0;do{k=n[a+c++];if(r.head&&k&&r.length<65536){r.head.comment+=String.fromCharCode(k)}}while(k&&c<f);if(r.flags&512){r.check=I(r.check,n,c,a)}f-=c;a+=c;if(k){break e}}else if(r.head){r.head.comment=null}r.mode=re;case re:if(r.flags&512){while(l<16){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch";r.mode=ke;break}u=0;l=0}if(r.head){r.head.hcrc=r.flags>>9&1;r.head.done=true}e.adler=r.check=0;r.mode=ae;break;case ne:while(l<32){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}e.adler=r.check=Ae(u);u=0;l=0;r.mode=ie;case ie:if(r.havedict===0){e.next_out=s;e.avail_out=o;e.next_in=a;e.avail_in=f;r.hold=u;r.bits=l;return Z}e.adler=r.check=1;r.mode=ae;case ae:if(t===j||t===z){break e}case se:if(r.last){u>>>=l&7;l-=l&7;r.mode=ye;break}while(l<3){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.last=u&1;u>>>=1;l-=1;switch(u&3){case 0:r.mode=fe;break;case 1:Pe(r);r.mode=ce;if(t===z){u>>>=2;l-=2;break e}break;case 2:r.mode=le;break;case 3:e.msg="invalid block type";r.mode=ke}u>>>=2;l-=2;break;case fe:u>>>=l&7;l-=l&7;while(l<32){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths";r.mode=ke;break}r.length=u&65535;u=0;l=0;r.mode=oe;if(t===z){break e}case oe:r.mode=ue;case ue:c=r.length;if(c){if(c>f){c=f}if(c>o){c=o}if(c===0){break e}T.arraySet(i,n,a,c,s);f-=c;a+=c;o-=c;s+=c;r.length-=c;break}r.mode=ae;break;case le:while(l<14){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.nlen=(u&31)+257;u>>>=5;l-=5;r.ndist=(u&31)+1;u>>>=5;l-=5;r.ncode=(u&15)+4;u>>>=4;l-=4;if(r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols";r.mode=ke;break}r.have=0;r.mode=de;case de:while(r.have<r.ncode){while(l<3){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.lens[O[r.have++]]=u&7;u>>>=3;l-=3}while(r.have<19){r.lens[O[r.have++]]=0}r.lencode=r.lendyn;r.lenbits=7;A={bits:r.lenbits};x=L(B,r.lens,0,19,r.lencode,0,r.work,A);r.lenbits=A.bits;if(x){e.msg="invalid code lengths set";r.mode=ke;break}r.have=0;r.mode=he;case he:while(r.have<r.nlen+r.ndist){for(;;){g=r.lencode[u&(1<<r.lenbits)-1];m=g>>>24;_=g>>>16&255;b=g&65535;if(m<=l){break}if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(b<16){u>>>=m;l-=m;r.lens[r.have++]=b}else{if(b===16){P=m+2;while(l<P){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}u>>>=m;l-=m;if(r.have===0){e.msg="invalid bit length repeat";r.mode=ke;break}k=r.lens[r.have-1];c=3+(u&3);u>>>=2;l-=2}else if(b===17){P=m+3;while(l<P){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}u>>>=m;l-=m;k=0;c=3+(u&7);u>>>=3;l-=3}else{P=m+7;while(l<P){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}u>>>=m;l-=m;k=0;c=11+(u&127);u>>>=7;l-=7}if(r.have+c>r.nlen+r.ndist){e.msg="invalid bit length repeat";r.mode=ke;break}while(c--){r.lens[r.have++]=k}}}if(r.mode===ke){break}if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block";r.mode=ke;break}r.lenbits=9;A={bits:r.lenbits};x=L(M,r.lens,0,r.nlen,r.lencode,0,r.work,A);r.lenbits=A.bits;if(x){e.msg="invalid literal/lengths set";r.mode=ke;break}r.distbits=6;r.distcode=r.distdyn;A={bits:r.distbits};x=L(U,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A);r.distbits=A.bits;if(x){e.msg="invalid distances set";r.mode=ke;break}r.mode=ce;if(t===z){break e}case ce:r.mode=pe;case pe:if(f>=6&&o>=258){e.next_out=s;e.avail_out=o;e.next_in=a;e.avail_in=f;r.hold=u;r.bits=l;D(e,h);s=e.next_out;i=e.output;o=e.avail_out;a=e.next_in;n=e.input;f=e.avail_in;u=r.hold;l=r.bits;if(r.mode===ae){r.back=-1}break}r.back=0;for(;;){g=r.lencode[u&(1<<r.lenbits)-1];m=g>>>24;_=g>>>16&255;b=g&65535;if(m<=l){break}if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(_&&(_&240)===0){y=m;w=_;E=b;for(;;){g=r.lencode[E+((u&(1<<y+w)-1)>>y)];m=g>>>24;_=g>>>16&255;b=g&65535;if(y+m<=l){break}if(f===0){break e}f--;u+=n[a++]<<l;l+=8}u>>>=y;l-=y;r.back+=y}u>>>=m;l-=m;r.back+=m;r.length=b;if(_===0){r.mode=be;break}if(_&32){r.back=-1;r.mode=ae;break}if(_&64){e.msg="invalid literal/length code";r.mode=ke;break}r.extra=_&15;r.mode=ve;case ve:if(r.extra){P=r.extra;while(l<P){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.length+=u&(1<<r.extra)-1;u>>>=r.extra;l-=r.extra;r.back+=r.extra}r.was=r.length;r.mode=ge;case ge:for(;;){g=r.distcode[u&(1<<r.distbits)-1];m=g>>>24;_=g>>>16&255;b=g&65535;if(m<=l){break}if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if((_&240)===0){y=m;w=_;E=b;for(;;){g=r.distcode[E+((u&(1<<y+w)-1)>>y)];m=g>>>24;_=g>>>16&255;b=g&65535;if(y+m<=l){break}if(f===0){break e}f--;u+=n[a++]<<l;l+=8}u>>>=y;l-=y;r.back+=y}u>>>=m;l-=m;r.back+=m;if(_&64){e.msg="invalid distance code";r.mode=ke;break}r.offset=b;r.extra=_&15;r.mode=me;case me:if(r.extra){P=r.extra;while(l<P){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}r.offset+=u&(1<<r.extra)-1;u>>>=r.extra;l-=r.extra;r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back";r.mode=ke;break}r.mode=_e;case _e:if(o===0){break e}c=h-o;if(r.offset>c){c=r.offset-c;if(c>r.whave){if(r.sane){e.msg="invalid distance too far back";r.mode=ke;break}}if(c>r.wnext){c-=r.wnext;p=r.wsize-c}else{p=r.wnext-c}if(c>r.length){c=r.length}v=r.window}else{v=i;p=s-r.offset;c=r.length}if(c>o){c=o}o-=c;r.length-=c;do{i[s++]=v[p++]}while(--c);if(r.length===0){r.mode=pe}break;case be:if(o===0){break e}i[s++]=r.length;o--;r.mode=pe;break;case ye:if(r.wrap){while(l<32){if(f===0){break e}f--;u|=n[a++]<<l;l+=8}h-=o;e.total_out+=h;r.total+=h;if(h){e.adler=r.check=r.flags?I(r.check,i,h,s-h):R(r.check,i,h,s-h)}h=o;if((r.flags?u:Ae(u))!==r.check){e.msg="incorrect data check";r.mode=ke;break}u=0;l=0}r.mode=we;case we:if(r.wrap&&r.flags){while(l<32){if(f===0){break e}f--;u+=n[a++]<<l;l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check";r.mode=ke;break}u=0;l=0}r.mode=Ee;case Ee:x=C;break e;case ke:x=Y;break e;case xe:return W;case Se:default:return q}}e.next_out=s;e.avail_out=o;e.next_in=a;e.avail_in=f;r.hold=u;r.bits=l;if(r.wsize||h!==e.avail_out&&r.mode<ke&&(r.mode<ye||t!==F)){if(Oe(e,e.output,e.next_out,h-e.avail_out)){r.mode=xe;return W}}d-=e.avail_in;h-=e.avail_out;e.total_in+=d;e.total_out+=h;r.total+=h;if(r.wrap&&h){e.adler=r.check=r.flags?I(r.check,i,h,e.next_out-h):R(r.check,i,h,e.next_out-h)}e.data_type=r.bits+(r.last?64:0)+(r.mode===ae?128:0)+(r.mode===ce||r.mode===oe?256:0);if((d===0&&h===0||t===F)&&x===N){x=H}return x}function m(e){if(!e||!e.state){return q}var t=e.state;if(t.window){t.window=null}e.state=null;return N}function _(e,t){var r;if(!e||!e.state){return q}r=e.state;if((r.wrap&2)===0){return q}r.head=t;t.done=false;return N}function b(e,t){var r=t.length;var n;var i;var a;if(!e||!e.state){return q}n=e.state;if(n.wrap!==0&&n.mode!==ie){return q}if(n.mode===ie){i=1;i=R(i,t,r,0);if(i!==n.check){return Y}}a=Oe(e,t,r,r);if(a){n.mode=xe;return W}n.havedict=1;return N}t.inflateReset=u;t.inflateReset2=l;t.inflateResetKeep=o;t.inflateInit=h;t.inflateInit2=d;t.inflate=g;t.inflateEnd=m;t.inflateGetHeader=_;t.inflateSetDictionary=b;t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";var O=30;var T=12;e.exports=function e(t,r){var n;var i;var a;var s;var f;var o;var u;var l;var d;var h;var c;var p;var v;var g;var m;var _;var b;var y;var w;var E;var k;var x;var S;var A,P;n=t.state;i=t.next_in;A=t.input;a=i+(t.avail_in-5);s=t.next_out;P=t.output;f=s-(r-t.avail_out);o=s+(t.avail_out-257);u=n.dmax;l=n.wsize;d=n.whave;h=n.wnext;c=n.window;p=n.hold;v=n.bits;g=n.lencode;m=n.distcode;_=(1<<n.lenbits)-1;b=(1<<n.distbits)-1;e:do{if(v<15){p+=A[i++]<<v;v+=8;p+=A[i++]<<v;v+=8}y=g[p&_];t:for(;;){w=y>>>24;p>>>=w;v-=w;w=y>>>16&255;if(w===0){P[s++]=y&65535}else if(w&16){E=y&65535;w&=15;if(w){if(v<w){p+=A[i++]<<v;v+=8}E+=p&(1<<w)-1;p>>>=w;v-=w}if(v<15){p+=A[i++]<<v;v+=8;p+=A[i++]<<v;v+=8}y=m[p&b];r:for(;;){w=y>>>24;p>>>=w;v-=w;w=y>>>16&255;if(w&16){k=y&65535;w&=15;if(v<w){p+=A[i++]<<v;v+=8;if(v<w){p+=A[i++]<<v;v+=8}}k+=p&(1<<w)-1;if(k>u){t.msg="invalid distance too far back";n.mode=O;break e}p>>>=w;v-=w;w=s-f;if(k>w){w=k-w;if(w>d){if(n.sane){t.msg="invalid distance too far back";n.mode=O;break e}}x=0;S=c;if(h===0){x+=l-w;if(w<E){E-=w;do{P[s++]=c[x++]}while(--w);x=s-k;S=P}}else if(h<w){x+=l+h-w;w-=h;if(w<E){E-=w;do{P[s++]=c[x++]}while(--w);x=0;if(h<E){w=h;E-=w;do{P[s++]=c[x++]}while(--w);x=s-k;S=P}}}else{x+=h-w;if(w<E){E-=w;do{P[s++]=c[x++]}while(--w);x=s-k;S=P}}while(E>2){P[s++]=S[x++];P[s++]=S[x++];P[s++]=S[x++];E-=3}if(E){P[s++]=S[x++];if(E>1){P[s++]=S[x++]}}}else{x=s-k;do{P[s++]=P[x++];P[s++]=P[x++];P[s++]=P[x++];E-=3}while(E>2);if(E){P[s++]=P[x++];if(E>1){P[s++]=P[x++]}}}}else if((w&64)===0){y=m[(y&65535)+(p&(1<<w)-1)];continue r}else{t.msg="invalid distance code";n.mode=O;break e}break}}else if((w&64)===0){y=g[(y&65535)+(p&(1<<w)-1)];continue t}else if(w&32){n.mode=T;break e}else{t.msg="invalid literal/length code";n.mode=O;break e}break}}while(i<a&&s<o);E=v>>3;i-=E;v-=E<<3;p&=(1<<v)-1;t.next_in=i;t.next_out=s;t.avail_in=i<a?5+(a-i):5-(i-a);t.avail_out=s<o?257+(o-s):257-(s-o);n.hold=p;n.bits=v;return}},function(e,t,r){"use strict";var U=r(15);var F=15;var j=852;var z=592;var N=0;var C=1;var Z=2;var q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var Y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function e(t,r,n,i,a,s,f,o){var u=o.bits;var l=0;var d=0;var h=0,c=0;var p=0;var v=0;var g=0;var m=0;var _=0;var b=0;var y;var w;var E;var k;var x;var S=null;var A=0;var P;var O=new U.Buf16(F+1);var T=new U.Buf16(F+1);var R=null;var I=0;var D,L,B;for(l=0;l<=F;l++){O[l]=0}for(d=0;d<i;d++){O[r[n+d]]++}p=u;for(c=F;c>=1;c--){if(O[c]!==0){break}}if(p>c){p=c}if(c===0){a[s++]=1<<24|64<<16|0;a[s++]=1<<24|64<<16|0;o.bits=1;return 0}for(h=1;h<c;h++){if(O[h]!==0){break}}if(p<h){p=h}m=1;for(l=1;l<=F;l++){m<<=1;m-=O[l];if(m<0){return-1}}if(m>0&&(t===N||c!==1)){return-1}T[1]=0;for(l=1;l<F;l++){T[l+1]=T[l]+O[l]}for(d=0;d<i;d++){if(r[n+d]!==0){f[T[r[n+d]]++]=d}}if(t===N){S=R=f;P=19}else if(t===C){S=q;A-=257;R=Y;I-=257;P=256}else{S=W;R=H;P=-1}b=0;d=0;l=h;x=s;v=p;g=0;E=-1;_=1<<p;k=_-1;if(t===C&&_>j||t===Z&&_>z){return 1}var M=0;for(;;){M++;D=l-g;if(f[d]<P){L=0;B=f[d]}else if(f[d]>P){L=R[I+f[d]];B=S[A+f[d]]}else{L=32+64;B=0}y=1<<l-g;w=1<<v;h=w;do{w-=y;a[x+(b>>g)+w]=D<<24|L<<16|B|0}while(w!==0);y=1<<l-1;while(b&y){y>>=1}if(y!==0){b&=y-1;b+=y}else{b=0}d++;if(--O[l]===0){if(l===c){break}l=r[n+f[d]]}if(l>p&&(b&k)!==E){if(g===0){g=p}x+=h;v=l-g;m=1<<v;while(v+g<c){m-=O[v+g];if(m<=0){break}v++;m<<=1}_+=1<<v;if(t===C&&_>j||t===Z&&_>z){return 1}E=b&k;a[E]=p<<24|v<<16|x-s|0}}if(b!==0){a[x+b]=l-g<<24|64<<16|0}o.bits=p;return 0}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){e.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},function(S,e,A){"use strict";(function(t){function a(e,t){if(e===t){return 0}var r=e.length;var n=t.length;for(var i=0,a=Math.min(r,n);i<a;++i){if(e[i]!==t[i]){r=e[i];n=t[i];break}}if(r<n){return-1}if(n<r){return 1}return 0}function s(e){if(t.Buffer&&typeof t.Buffer.isBuffer==="function"){return t.Buffer.isBuffer(e)}return!!(e!=null&&e._isBuffer)}var l=A(41);var n=Object.prototype.hasOwnProperty;var d=Array.prototype.slice;var i=function(){return function e(){}.name==="foo"}();function f(e){return Object.prototype.toString.call(e)}function o(e){if(s(e)){return false}if(typeof t.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(e)}if(!e){return false}if(e instanceof DataView){return true}if(e.buffer&&e.buffer instanceof ArrayBuffer){return true}return false}var u=S.exports=e;var h=/\s*function\s+([^\(\s]*)\s*/;function c(e){if(!l.isFunction(e)){return}if(i){return e.name}var t=e.toString();var r=t.match(h);return r&&r[1]}u.AssertionError=function e(t){this.name="AssertionError";this.actual=t.actual;this.expected=t.expected;this.operator=t.operator;if(t.message){this.message=t.message;this.generatedMessage=false}else{this.message=v(this);this.generatedMessage=true}var r=t.stackStartFunction||g;if(Error.captureStackTrace){Error.captureStackTrace(this,r)}else{var n=new Error;if(n.stack){var i=n.stack;var a=c(r);var s=i.indexOf("\n"+a);if(s>=0){var f=i.indexOf("\n",s+1);i=i.substring(f+1)}this.stack=i}}};l.inherits(u.AssertionError,Error);function r(e,t){if(typeof e==="string"){return e.length<t?e:e.slice(0,t)}else{return e}}function p(e){if(i||!l.isFunction(e)){return l.inspect(e)}var t=c(e);var r=t?": "+t:"";return"[Function"+r+"]"}function v(e){return r(p(e.actual),128)+" "+e.operator+" "+r(p(e.expected),128)}function g(e,t,r,n,i){throw new u.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}u.fail=g;function e(e,t){if(!e)g(e,true,t,"==",u.ok)}u.ok=e;u.equal=function e(t,r,n){if(t!=r)g(t,r,n,"==",u.equal)};u.notEqual=function e(t,r,n){if(t==r){g(t,r,n,"!=",u.notEqual)}};u.deepEqual=function e(t,r,n){if(!m(t,r,false)){g(t,r,n,"deepEqual",u.deepEqual)}};u.deepStrictEqual=function e(t,r,n){if(!m(t,r,true)){g(t,r,n,"deepStrictEqual",u.deepStrictEqual)}};function m(e,t,r,n){if(e===t){return true}else if(s(e)&&s(t)){return a(e,t)===0}else if(l.isDate(e)&&l.isDate(t)){return e.getTime()===t.getTime()}else if(l.isRegExp(e)&&l.isRegExp(t)){return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase}else if((e===null||typeof e!=="object")&&(t===null||typeof t!=="object")){return r?e===t:e==t}else if(o(e)&&o(t)&&f(e)===f(t)&&!(e instanceof Float32Array||e instanceof Float64Array)){return a(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0}else if(s(e)!==s(t)){return false}else{n=n||{actual:[],expected:[]};var i=n.actual.indexOf(e);if(i!==-1){if(i===n.expected.indexOf(t)){return true}}n.actual.push(e);n.expected.push(t);return b(e,t,r,n)}}function _(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function b(e,t,r,n){if(e===null||e===undefined||t===null||t===undefined)return false;if(l.isPrimitive(e)||l.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return false;var i=_(e);var a=_(t);if(i&&!a||!i&&a)return false;if(i){e=d.call(e);t=d.call(t);return m(e,t,r)}var s=x(e);var f=x(t);var o,u;if(s.length!==f.length)return false;s.sort();f.sort();for(u=s.length-1;u>=0;u--){if(s[u]!==f[u])return false}for(u=s.length-1;u>=0;u--){o=s[u];if(!m(e[o],t[o],r,n))return false}return true}u.notDeepEqual=function e(t,r,n){if(m(t,r,false)){g(t,r,n,"notDeepEqual",u.notDeepEqual)}};u.notDeepStrictEqual=y;function y(e,t,r){if(m(e,t,true)){g(e,t,r,"notDeepStrictEqual",y)}}u.strictEqual=function e(t,r,n){if(t!==r){g(t,r,n,"===",u.strictEqual)}};u.notStrictEqual=function e(t,r,n){if(t===r){g(t,r,n,"!==",u.notStrictEqual)}};function w(e,t){if(!e||!t){return false}if(Object.prototype.toString.call(t)=="[object RegExp]"){return t.test(e)}try{if(e instanceof t){return true}}catch(e){}if(Error.isPrototypeOf(t)){return false}return t.call({},e)===true}function E(e){var t;try{e()}catch(e){t=e}return t}function k(e,t,r,n){var i;if(typeof t!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof r==="string"){n=r;r=null}i=E(t);n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:".");if(e&&!i){g(i,r,"Missing expected exception"+n)}var a=typeof n==="string";var s=!e&&l.isError(i);var f=!e&&i&&!r;if(s&&a&&w(i,r)||f){g(i,r,"Got unwanted exception"+n)}if(e&&i&&r&&!w(i,r)||!e&&i){throw i}}u.throws=function(e,t,r){k(true,e,t,r)};u.doesNotThrow=function(e,t,r){k(false,e,t,r)};u.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var r in e){if(n.call(e,r))t.push(r)}return t}}).call(e,A(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var n=r(42);var i=f(n);var a=r(22);var s=f(a);function f(e){return e&&e.__esModule?e:{default:e}}var o=false;function u(e,t,r){if(!o){o=true;if(console&&console.log){console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")}}if(e===undefined){throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'"}if(t===undefined){throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'"}if(r===undefined){throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'"}if(t.tag!=="x7fe00010"){throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)"}if(t.encapsulatedPixelData!==true){throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data"}if(t.hadUndefinedLength!==true){throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data"}if(t.basicOffsetTable===undefined){throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data"}if(t.fragments===undefined){throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data"}if(r<0){throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0"}if(t.basicOffsetTable.length!==0){return(0,i.default)(e,t,r)}return(0,s.default)(e,t,0,t.fragments.length)}}])});